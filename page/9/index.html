<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  

  
  <title>HelloWorld</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="好记性不如烂笔头，保存在收藏夹里的链接，过段时间后就可能打不开了，摘录是不错的保存方式。">
<meta property="og:type" content="website">
<meta property="og:title" content="HelloWorld">
<meta property="og:url" content="https://hefengbao.github.io/helloworld/page/9/index.html">
<meta property="og:site_name" content="HelloWorld">
<meta property="og:description" content="好记性不如烂笔头，保存在收藏夹里的链接，过段时间后就可能打不开了，摘录是不错的保存方式。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="He Fengbao">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/helloworld/atom.xml" title="HelloWorld" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/helloworld/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/helloworld/" id="logo">HelloWorld</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/helloworld/">Home</a>
        
          <a class="main-nav-link" href="/helloworld/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/helloworld/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hefengbao.github.io/helloworld"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Elasticsearch-基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/elasticsearch.html" class="article-date">
  <time datetime="2020-12-14T12:12:32.000Z" itemprop="datePublished">2020-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/%E8%B5%84%E6%96%99/">资料</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/elasticsearch.html">Elasticearch 基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/helloworld/images/2020121402.jpeg" class="">

<h2 id="基本概念："><a href="#基本概念：" class="headerlink" title="基本概念："></a>基本概念：</h2><p>· Cluster「集群」：由部署在多个机器的ES节点组成，以处理较大数据集和实现高可用；* Node「节点」：机器上的ES进程，可配置不同类型的节点；<br>· Master Node「主节点」：用于集群选主。由其中一个节点担任主节点，负责集群元数据管理，如索引创建，节点离开加入集群等；<br>· Data Node「数据节点」：负责索引数据存储；<br>· Index「索引」：索引数据的逻辑集合，可类比关系型数据的DataBase；<br>· Shard「分片」：索引数据子集，通过将分片分配至集群不同节点，实现数据横向扩展。以解决单个节点CPU、内存、磁盘处理能力不足的情况；<br>· Primary Shard「主分片」：数据分片采用主从模式，由分片接收索引操作；<br>· Replica Shard「副本分片」：主分片的拷贝，以提高查询吞吐量和实现数据高可靠。主分片异常时，其中一个副本分片会自动提升为新的主分片。</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/4J99iUQXmQk4BdjVoi14QA">https://mp.weixin.qq.com/s/4J99iUQXmQk4BdjVoi14QA</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/elasticsearch.html" data-id="ckweu3ezn00fda1vh5x3q8fl1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/elasticsearch/" rel="tag">elasticsearch</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Snowflake" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/snowflake.html" class="article-date">
  <time datetime="2020-12-14T12:07:51.000Z" itemprop="datePublished">2020-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/%E8%B5%84%E6%96%99/">资料</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/snowflake.html">Snowflake</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ID生成器在前后端系统内都比较常见，应用场景广泛，如：订单ID、账户ID 、流水号、消息ID等等。常见的ID类型如下：</p>
<p>• UUID和GUID:GUID和UUID本质类似，GUID来源于微软。一个UUID是一个16字节 (128 bit) 的数字。UUID由网卡MAC地址、时间戳、名字空间 ( Namespace )、随机或伪随机数、时序等元素进行生成。优点：在特定范围内可以保证全局唯一；生成方便，单机管理即可。缺点：所占空间比较大；无序，在插入数据库时可能会引起大规模数据位置变动，性能不友好。</p>
<p>• 数据库自增ID：主要基于关系数据库如MySQL的autoincrement自增键，在业务量不是很大时使用比较方便。基于数据库自增字段也有一些变种，如下面会介绍到的号段模式。优点：实现成本低，直接基于DB实现，不需要引入额外组件；能够实现单调自增，递增场景友好。缺点：需要考虑高可用、横向扩展问题。</p>
<p>• snowflake ：雪花算法由毫秒时间戳(41位) + 机器ID(workerId 10位) + 自增序列 (12位)，理论上最多支持1024台机器每秒生产400w个ID。雪花算法综合考虑了性能、全局唯一、趋势自增、可用性等，是一种非常理想的ID生成算法。</p>
<p>snowflake是Twitter于2010年首次对外公开，其值为64位整数，可以做到全局唯一。构造如下：</p>
<img src="/helloworld/images/2020121401.jpeg" class="">



<p><a target="_blank" rel="noopener" href="https://xie.infoq.cn/article/7f3a0aa802c8c9465f9dee888">雪花算法，什么情况下发生 ID 冲突？ - InfoQ 写作平台</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/snowflake.html" data-id="ckweu3ezp00fla1vh3qln8cv3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/snowflake/" rel="tag">snowflake</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-wsl-vscode-搭建-php-开发环境" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/wsl-vscode-php-env.html" class="article-date">
  <time datetime="2020-12-02T07:42:26.000Z" itemprop="datePublished">2020-12-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/">工具</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/wsl-vscode-php-env.html">wsl &amp; vscode 搭建 php 开发环境</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="WSL-安装参考："><a href="#WSL-安装参考：" class="headerlink" title="WSL 安装参考："></a>WSL 安装参考：</h2><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10">https://docs.microsoft.com/zh-cn/windows/wsl/install-win10</a></p>
<p>选择安装 <code>Ubuntu 20.04 LTS</code>， 可以方便的安装 <code>php7.4</code>、<code>mysql 8</code>等。</p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-vscode">https://docs.microsoft.com/en-us/windows/wsl/tutorials/wsl-vscode</a></p>
<h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer global require friendsofphp&#x2F;php-cs-fixer</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /home/&#123;用户名&#125;/.composer/vendor/bin/php-cs-fixer /usr/bin</span><br></pre></td></tr></table></figure>



<h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create user &#39;bao&#39;@&#39;%&#39;  identified  by &#39;Bao2020&#39;;</span><br><span class="line">grant all privileges on *.* to &#39;bao&#39;@&#39;%&#39; with grant option;</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database">https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-database</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/keme/p/10288168.html">https://www.cnblogs.com/keme/p/10288168.html</a></p>
<h3 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https:&#x2F;&#x2F;deb.nodesource.com&#x2F;setup_14.x | sudo -E bash -</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;查看版本号</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/feiquan/p/11223487.html">https://www.cnblogs.com/feiquan/p/11223487.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure>

<h3 id="Powerline"><a href="#Powerline" class="headerlink" title="Powerline"></a>Powerline</h3><p>文档： <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/terminal/tutorials/powerline-setup">https://docs.microsoft.com/zh-cn/windows/terminal/tutorials/powerline-setup</a></p>
<p><a target="_blank" rel="noopener" href="https://ohmyposh.dev/docs/installation">https://ohmyposh.dev/docs/installation</a></p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Import-Module</span> : 无法加载文件 C:\Users\hefengbao\Documents\WindowsPowerShell\Modules\posh<span class="literal">-git</span>\<span class="number">0.7</span>.<span class="number">3</span>\posh<span class="literal">-git</span>.psm1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/![<span class="type">img</span>](file:///C:\Users\hefengbao\AppData\Roaming\Tencent\QQTempSys\[<span class="number">5</span><span class="type">UQ</span>[<span class="type">BL</span>(<span class="number">6</span>~<span class="type">BS2JV6W</span>&#125;<span class="type">N6</span>[%<span class="type">S.png</span>)<span class="type">go.microsoft.com</span>/<span class="type">fwlink</span>/?<span class="type">LinkI</span></span><br><span class="line"><span class="type">D</span>=<span class="number">135170</span> 中的 <span class="type">about_Execution_Policies</span>。</span><br></pre></td></tr></table></figure>



<p>以管理员身份运行 <code>powershell</code>:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> <span class="literal">-ExecutionPolicy</span> RemoteSigned</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">package golang.org/x/crypto/ssh/terminal: unrecognized import path &quot;golang.org/x/crypto/ssh/terminal&quot; (https fetch: Get https://golang.org/x/crypto/ssh/terminal?go-get=1: dial tcp 216.239.37.1:443: i/o timeout)</span><br><span class="line">package golang.org/x/sys/unix: unrecognized import path &quot;golang.org/x/sys/unix&quot; (https fetch: Get https://golang.org/x/sys/unix?go-get=1: dial tcp 216.239.37.1:443: i/o timeout)</span><br><span class="line">package golang.org/x/text/width: unrecognized import path &quot;golang.org/x/text/width&quot; (https fetch: Get https://golang.org/x/text/width?go-get=1: dial tcp 216.239.37.1:443: i/o timeout)</span><br></pre></td></tr></table></figure>

<p>添加代理， 参考 <code>https://goproxy.io/zh/</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo go env -w GO111MODULE=on</span><br><span class="line">sudo go env -w GOPROXY=https://goproxy.io,direct</span><br></pre></td></tr></table></figure>

<p> Ubuntu 安装字体 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/picaso/p/3356292.html">https://www.cnblogs.com/picaso/p/3356292.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/cunfuteng7334/article/details/109050492">https://blog.csdn.net/cunfuteng7334/article/details/109050492</a></p>
<h2 id="VS-Code"><a href="#VS-Code" class="headerlink" title="VS Code:"></a>VS Code:</h2><h3 id="Terminal-字体："><a href="#Terminal-字体：" class="headerlink" title="Terminal 字体："></a>Terminal 字体：</h3><p>添加 <code>Cascadia Code PL</code></p>
<h2 id="可能遇到的问题："><a href="#可能遇到的问题：" class="headerlink" title="可能遇到的问题："></a>可能遇到的问题：</h2><p>1、我在安装 <code>php7.4-fpm</code> 时出现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoke-rc.d: could not determine current runlevel</span><br></pre></td></tr></table></figure>

<p>参考 <a target="_blank" rel="noopener" href="https://github.com/microsoft/WSL/issues/1761">https://github.com/microsoft/WSL/issues/1761</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line"><span class="built_in">export</span> RUNLEVEL=1</span><br><span class="line">//然后</span><br><span class="line">apt install php7.4-fpm</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/wsl-vscode-php-env.html" data-id="ckweu3ezm00faa1vh6vhy47jo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/vscode/" rel="tag">vscode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/wsl/" rel="tag">wsl</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu-安装-composer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/ubuntu-install-composer.html" class="article-date">
  <time datetime="2020-11-25T04:02:45.000Z" itemprop="datePublished">2020-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/">工具</a>►<a class="article-category-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/Composer/">Composer</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/ubuntu-install-composer.html">Ubuntu 安装 composer</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install wget php-cli php-zip unzip</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O composer-setup.php https:&#x2F;&#x2F;getcomposer.org&#x2F;installer</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo php composer-setup.php --install-dir&#x3D;&#x2F;usr&#x2F;local&#x2F;bin --filename&#x3D;composer</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/149309514">如何在 Ubuntu 20.04 上安装和使用 Composer - 知乎 (zhihu.com)</a></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://pkg.phpcomposer.com/#how-to-install-composer">Packagist / Composer 中国全量镜像 (phpcomposer.com)</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/ubuntu-install-composer.html" data-id="ckweu3ezl00f5a1vh30gngkea" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/composer/" rel="tag">composer</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-Promise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/js-promise.html" class="article-date">
  <time datetime="2020-11-24T11:08:46.000Z" itemprop="datePublished">2020-11-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/js-promise.html">JavaScript Promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Promise 是一个构造函数，通过 <code>new</code> 关键字实例化对象</p>
<h2 id="Promise-语法"><a href="#Promise-语法" class="headerlink" title="Promise 语法"></a>Promise 语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br></pre></td></tr></table></figure>

<ul>
<li>Promise 接受一个函数作为参数</li>
<li>在参数函数中接受两个参数<ul>
<li>resolve:</li>
<li>reject:</li>
</ul>
</li>
</ul>
<h2 id="Promise-实例"><a href="#Promise-实例" class="headerlink" title="Promise 实例"></a>Promise 实例</h2><p>promise 实例有两个属性</p>
<ul>
<li>state：状态</li>
<li>result：结果</li>
</ul>
<ol>
<li>Promise 的状态</li>
</ol>
<ol>
<li>pending</li>
<li>fulfilled</li>
<li>rejected</li>
</ol>
<ol start="2">
<li>Promise 状态的改变</li>
</ol>
<p>通过调用 <code>resolve()</code> 和 <code>reject()</code> 改变当前 promise 对象的状态</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// reslove() 调用函数，是当前 promise 对象的状态变为 fulfilled</span></span><br><span class="line">    resolve()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p) <span class="comment">//fulfilled</span></span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// reject() 调用函数，是当前 promise 对象的状态变为 rejected</span></span><br><span class="line">    reject()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p) <span class="comment">//rejected</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>promise 的状态改变时一次性的</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">     resolve()</span><br><span class="line">     reject()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p) <span class="comment">//fulfilled</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Promise 的结果</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">     resolve(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br></pre></td></tr></table></figure>

<h2 id="Promise-的使用"><a href="#Promise-的使用" class="headerlink" title="Promise 的使用"></a>Promise 的使用</h2><p>1） then 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">     resolve(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// then 是一个函数</span></span><br><span class="line"><span class="comment">// 接受两个函数参数</span></span><br><span class="line"><span class="comment">// 返回结果为一个新的 promise 对象</span></span><br><span class="line">p.then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// promise 状态为 fulfilled 时调用</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;成功时调用&quot;</span>)</span><br><span class="line">&#125;,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// promise 状态为 rejected 时调用</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;失败时调用&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">     resolve(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">p.then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">   	<span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;成功时调用&quot;</span>)</span><br><span class="line">&#125;,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(err)</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;失败时调用&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">     resolve(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> r = p.then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">   	<span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;成功时调用&quot;</span>)</span><br><span class="line">&#125;,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(err)</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;失败时调用&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(r)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>then 返回结果为一个新的 promise 对象, 状态为 pending</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;).then(<span class="function">(<span class="params">res</span>)=&gt;</span> &#123;</span><br><span class="line">    conlose.log(<span class="string">&#x27;Success&#x27;</span>)</span><br><span class="line">&#125;,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">    conlose.log(<span class="string">&#x27;Fail&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(t)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果 promise 的状态不改变， then 函数里的方法不执行</p>
</blockquote>
<ol start="2">
<li>catch</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    reject()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">p.catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Failure&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">p.catch(<span class="function">(<span class="params">erro</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Failure = &#x27;</span> + erro)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p)</span><br></pre></td></tr></table></figure>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1454y1R7vj">2020最好理解的Promise教程_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/js-promise.html" data-id="ckweu3ezj00f2a1vhfvd048rk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Redis-学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/learning-redis.html" class="article-date">
  <time datetime="2020-11-15T11:05:25.000Z" itemprop="datePublished">2020-11-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/DevOps/">DevOps</a>►<a class="article-category-link" href="/helloworld/categories/DevOps/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/learning-redis.html">Redis 学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://xie.infoq.cn/article/e1c173d50f30d1eff65e293e1">Redis - 配置文件 - InfoQ 写作平台</a></p>
<p><a target="_blank" rel="noopener" href="https://learnku.com/articles/22363">在面试前必须要知道的 Redis 面试内容 | Laravel China 社区 (learnku.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000040465231">带你彻底搞懂 Redis 16大应用场景！ - SegmentFault 思否</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000040473964">Redis 实战篇：巧用数据类型实现亿级数据统计 - SegmentFault 思否</a></p>
<h2 id="string-（字符串）"><a href="#string-（字符串）" class="headerlink" title="string （字符串）"></a>string （字符串）</h2><ul>
<li><p>单值缓存  </p>
<p>SET key value</p>
<p>GET key</p>
</li>
<li><p>对象缓存</p>
<p>1）SET user:1 value（json 格式数据）</p>
<p>​      GET user:1</p>
<p>2）MSET user:1:name Lily user:1:balance 999</p>
<p>​      MGET user:1:name user:1:balance</p>
<p>​      MGET user:1:name</p>
</li>
<li><p>分布式锁</p>
<p>SETNX</p>
</li>
<li><p>计数器</p>
<p>INCR article:readCount:{文章ID}</p>
<p>GET article:readCount:{文章ID}</p>
</li>
<li><p>WEB 集群 session 共享</p>
</li>
<li><p>分布式全局序列号</p>
<p>INCBY orderId 1000  //redis 批量生成序列号</p>
</li>
</ul>
<h2 id="hash（哈希）"><a href="#hash（哈希）" class="headerlink" title="hash（哈希）"></a>hash（哈希）</h2><ul>
<li><p>对象缓存</p>
<p>HSET key field value</p>
<p>HMSET key field value [field value …]</p>
</li>
<li><p>电商购物车</p>
<p>1、用户 ID 为 key</p>
<p>2、商品 ID 为 field</p>
<p>3、商品数量为 value</p>
<p>购物车操作：</p>
<p>1、添加商品  hset cart:1001 10088 1</p>
<p>2、增加数量  hincrby cart:1001 10088 1</p>
<p>3、商品总数  hlen cart:1001 10088</p>
<p>4、删除商品  hdel cart:1001 10088</p>
<p>5、获取购物车所有商品  hgetall cart:1001</p>
<h3 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h3><p>1）过期功能不能用在 field 上，只能用在 key 上</p>
<p>2）Redis 集群架构下不适合大规模使用</p>
</li>
</ul>
<h2 id="list-（列表）"><a href="#list-（列表）" class="headerlink" title="list （列表）"></a>list （列表）</h2><p>LPUSH key value [value…]</p>
<p>RPUSH key value [value…]</p>
<p>LPOP key</p>
<p>RPOP key</p>
<p>LRANGE key start stop</p>
<h3 id="实现常用数据结构"><a href="#实现常用数据结构" class="headerlink" title="实现常用数据结构"></a>实现常用数据结构</h3><p>Stack（栈）= LPUSH + LPOP -&gt; FILO</p>
<p>Queue（队列）= LPUSH + RPOP </p>
<p>BLocking MQ（阻塞队列）= LPUSH + BRPOP</p>
<h3 id="实现消息流"><a href="#实现消息流" class="headerlink" title="实现消息流"></a>实现消息流</h3><h2 id="set（集合）"><a href="#set（集合）" class="headerlink" title="set（集合）"></a>set（集合）</h2><h3 id="set-常用操作"><a href="#set-常用操作" class="headerlink" title="set 常用操作"></a>set 常用操作</h3><h3 id="set-常用计算"><a href="#set-常用计算" class="headerlink" title="set 常用计算"></a>set 常用计算</h3><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><h4 id="1、抽奖"><a href="#1、抽奖" class="headerlink" title="1、抽奖"></a>1、抽奖</h4><p>1）点击参与抽奖加入集合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SADD key &#123;userId&#125;</span><br></pre></td></tr></table></figure>

<p>2）查看参与抽奖所有用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SMEMBERS key</span><br></pre></td></tr></table></figure>

<p>3）抽取 count 名中奖者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SRANDMEMBER key count</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;分批抽奖</span><br><span class="line">SPOP key count</span><br></pre></td></tr></table></figure>



<h4 id="2、微信微博点赞、收藏、标签"><a href="#2、微信微博点赞、收藏、标签" class="headerlink" title="2、微信微博点赞、收藏、标签"></a>2、微信微博点赞、收藏、标签</h4><p>1）点赞</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SADD like:&#123;消息 ID&#125; &#123;用户 ID&#125;</span><br></pre></td></tr></table></figure>

<p>2）取消点赞</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SREM like:&#123;消息 ID&#125; &#123;用户 ID&#125;</span><br></pre></td></tr></table></figure>

<p>3）检查用户是否点过赞</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SISMEMBER like:&#123;消息 ID&#125; &#123;用户 ID&#125;</span><br></pre></td></tr></table></figure>

<p>4）获取点赞的用户列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SMEMBERS like:&#123;消息 ID&#125; </span><br></pre></td></tr></table></figure>

<p>5）获取点赞用户数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SCARD like:&#123;消息 ID&#125; </span><br></pre></td></tr></table></figure>

<h4 id="3、集合操作实现微博等关注模型"><a href="#3、集合操作实现微博等关注模型" class="headerlink" title="3、集合操作实现微博等关注模型"></a>3、集合操作实现微博等关注模型</h4><h2 id="zset（有序集合）"><a href="#zset（有序集合）" class="headerlink" title="zset（有序集合）"></a>zset（有序集合）</h2><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><h4 id="1、实现排行榜"><a href="#1、实现排行榜" class="headerlink" title="1、实现排行榜"></a>1、实现排行榜</h4><p><a target="_blank" rel="noopener" href="https://github.com/Weiwf/redis-mindmap">Weiwf/redis-mindmap: 通过思维导图整理redis的重要知识点 (github.com)</a></p>
<img src="/helloworld/images/redis%E6%8C%81%E4%B9%85%E5%8C%96.png" class="">

<img src="/helloworld/images/redis%E5%A4%8D%E5%88%B6.png" class="">

<img src="/helloworld/images/redis%E7%BC%93%E5%AD%98%E8%AE%BE%E8%AE%A1.png" class="">

<img src="/helloworld/images/redis%E5%86%85%E5%AD%98.png" class="">

<img src="/helloworld/images/redis%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96.png" class="">

<img src="/helloworld/images/redis%E5%93%A8%E5%85%B5.png" class="">

<img src="/helloworld/images/redis%E9%98%BB%E5%A1%9E.png" class="">
      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/learning-redis.html" data-id="ckweu3ezi00exa1vh20ddhoyh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/redis/" rel="tag">redis</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-dpkg-warning-files-list-file-for-package-xxxx-missing-assuming-package-has-no-files-currently-installed" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/dpkg-warning-files-list-file-for-package-xxxx-missing-assuming-package-has-no-files-currently-installed.html" class="article-date">
  <time datetime="2020-08-23T03:21:57.000Z" itemprop="datePublished">2020-08-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/dpkg-warning-files-list-file-for-package-xxxx-missing-assuming-package-has-no-files-currently-installed.html">dpkg: warning: files list file for package &#39;xxxx&#39; missing; assuming package has no files currently installed</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2021-06-18，找到最佳的解决办法：</p>
<p>新建 <code>dpkg-warning-fix.sh</code> 文件，编辑内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Clean out &#x2F;var&#x2F;cache&#x2F;apt&#x2F;archives</span><br><span class="line">apt-get clean</span><br><span class="line"># Fill it with all the .debs we need</span><br><span class="line">apt-get --reinstall -dy install $(dpkg --get-selections | grep &#39;[[:space:]]install&#39; | cut -f1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DIR&#x3D;$(mktemp -d -t info-XXXXXX)</span><br><span class="line">for deb in &#x2F;var&#x2F;cache&#x2F;apt&#x2F;archives&#x2F;*.deb</span><br><span class="line">do</span><br><span class="line">    # Move to working directory</span><br><span class="line">    cd &quot;$DIR&quot;</span><br><span class="line">    # Create DEBIAN directory</span><br><span class="line">    mkdir -p DEBIAN</span><br><span class="line">    # Extract control files</span><br><span class="line">    dpkg-deb -e &quot;$deb&quot;</span><br><span class="line">    # Extract file list, fixing up the leading .&#x2F; and turning &#x2F; into &#x2F;.</span><br><span class="line">    dpkg-deb -c &quot;$deb&quot; | awk &#39;&#123;print $NF&#125;&#39; | cut -c2- | sed -e &#39;s&#x2F;^\&#x2F;$&#x2F;\&#x2F;.&#x2F;&#39; &gt; DEBIAN&#x2F;list</span><br><span class="line">    # Figure out binary package name</span><br><span class="line">    DEB&#x3D;$(basename &quot;$deb&quot; | cut -d_ -f1)</span><br><span class="line">    # Copy each control file into place</span><br><span class="line">    cd DEBIAN</span><br><span class="line">    for file in *</span><br><span class="line">    do</span><br><span class="line">        cp -a &quot;$file&quot; &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info&#x2F;&quot;$DEB&quot;.&quot;$file&quot;</span><br><span class="line">    done</span><br><span class="line">    # Clean up</span><br><span class="line">    cd ..</span><br><span class="line">    rm -rf DEBIAN</span><br><span class="line">done</span><br><span class="line">rmdir &quot;$DIR&quot;</span><br></pre></td></tr></table></figure>

<p>原理是重新下载所有安装过的软件包，然后从中提取文件列表信息复制到info文件夹里。（所以请在网速较好的时候使用）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./dpkg-warning-fix.sh</span><br></pre></td></tr></table></figure>



<p>参考：</p>
<p>[dpkg: warning: files list file for package `*****’-爱开源 (aikaiyuan.com)](<a target="_blank" rel="noopener" href="https://www.aikaiyuan.com/9147.html">https://www.aikaiyuan.com/9147.html</a>)</p>
<hr>
<p>经验不足，按网上的教程操作，把 <code>/var/lib/dpkg/info/</code> 的文件删除了，之后安装软件就会频繁出现如下警告：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">dpkg: warning: files list file for package &#x27;python-apt-common&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;zerofree&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;aufs-tools&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libnpth0:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;fdisk&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libhtml-tagset-perl&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;iputils-ping&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;ubuntu-advantage-tools&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libedit2:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;python3-cryptography&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libpam-runtime&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;vim-tiny&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libncurses5:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libtool&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libcom-err2:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libgomp1:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;dmeventd&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libpgm-5.2-0:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libatomic1:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;libpython3-stdlib:amd64&#x27; missing; assuming package has no files currently installed</span><br><span class="line">dpkg: warning: files list file for package &#x27;liblxc1&#x27; missing; assuming package has no files currently installed</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure>



<p>解决办法：</p>
<p>新建 <code>dpkg-warning.txt</code> 文件,并把上述提示全部拷贝到 该文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi dpkg-warning.txt</span><br></pre></td></tr></table></figure>

<p>新建 <code>dpkg-warning-fix.sh</code> 文件，编辑内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for package in $(cat dpkg-warning.txt | grep &quot;dpkg: warning: files list file for package &quot; | grep -Po &quot;&#x27;[^&#x27;]*&#x27;&quot; | sed &quot;s/&#x27;//g&quot;)；</span><br><span class="line">do</span><br><span class="line">  apt install --reinstall &quot;$package&quot;;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 dpkg-warning-fix.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./dpkg-warning-fix.sh</span><br></pre></td></tr></table></figure>



<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/taosera/article/details/79420257">https://blog.csdn.net/taosera/article/details/79420257</a>~~~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/dpkg-warning-files-list-file-for-package-xxxx-missing-assuming-package-has-no-files-currently-installed.html" data-id="ckweu3ezh00eua1vh0ppqc7an" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android-Styling-Themes-Overlay" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/android-styling-themes-overlay.html" class="article-date">
  <time datetime="2020-08-02T08:05:30.000Z" itemprop="datePublished">2020-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/android-styling-themes-overlay.html">Android Styling: Themes Overlay</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In previous articles in this series on Android styling, we’ve looked at the <a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-vs-styles-ebe05f917578">difference between styles and themes</a>, talked about the <a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-prefer-theme-attributes-412caa748774">benefits of using themes and theme attributes</a> and highlighted some <a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-common-theme-attributes-8f7c50c9eaba">common attributes to use</a>.</p>
<p>Today we’ll focus on actually <em>using</em> themes, how they are applied to your app and the implications for how you build them.</p>
<h1 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h1><p>In a previous article we <a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-vs-styles-ebe05f917578">stated</a>:</p>
<blockquote>
<p>A <code>Theme</code> is accessed as a property of a <code>Context</code> and can be obtained from any object which is or has a context e.g. <code>Activity</code>, <code>View</code> or<code> ViewGroup</code>. These objects exist in a tree, where an <code>Activity</code> contains <code>ViewGroup</code>s which contain <code>View</code>s etc. Specifying a theme at any level of this tree cascades to descendent nodes e.g. setting a theme on a <code>ViewGroup</code> applies to all the <code>View</code>s within it (in contrast to styles which only apply to a single view).</p>
</blockquote>
<p>Setting a theme at any level in this tree doesn’t <em>replace</em> the theme currently in effect, it <em>overlays</em> it. Consider the following <code>Button</code> which species a theme, but who’s parent also specifies a theme:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ViewGroup</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:theme</span>=<span class="string">&quot;@style/Theme.App.Foo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Button</span> …</span></span><br><span class="line"><span class="tag">    <span class="attr">android:theme</span>=<span class="string">&quot;@style/Theme.App.Bar&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ViewGroup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/27a9b3e72ff3a5bd6a1bd630a4050e9a#file-themes_overlay_nested-xml">themes_overlay_nested.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>If an attribute is specified in both themes, then the most local “wins” i.e. those in <code>Bar</code> will be applied to the button. Any attributes specified in theme <code>Foo</code> but <strong>not</strong> specified in theme <code>Bar</code> will also be applied to the button.</p>
<img src="/helloworld/images/2020080208.png" class="">

<p>Themes overlay each other</p>
<p>This might seem like a contrived example but this technique is extremely useful for styling subsections of an app with a different appearance such as a dark toolbar on an otherwise light screen, or this screen (from the <a target="_blank" rel="noopener" href="https://github.com/material-components/material-components-android-examples/tree/develop/Owl">Owl sample app</a>) which has a largely pink theme but the bottom section showing related content has a blue theme:</p>
<img src="/helloworld/images/2020080209.gif" class="">

<p>A blue sub-section within a pink themed screen.</p>
<p>This can be achieved by setting a theme on the root of the blue section and it cascades to all views within it.</p>
<h1 id="Overly-Overlaid"><a href="#Overly-Overlaid" class="headerlink" title="Overly Overlaid"></a>Overly Overlaid</h1><p>As themes overlay any themes higher in the tree, it’s important to consider <em>what</em> your theme specifies to ensure that it doesn’t accidentally <em>replace</em> an attribute that you want to keep. For example, you may want to change the background color of a view (usually controlled by <code>colorSurface</code>) but nothing else i.e. you want to retain the rest of the current theme. For this we can use a technique known as <strong>theme overlays</strong>.</p>
<p>These are themes which are designed to, <em>well</em>, overlay another theme. They are as narrowly scoped as possible i.e. they only define (or inherit) as few attributes as possible. In fact, theme overlays often (but not always) have no parent e.g.:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;ThemeOverlay.MyApp.DarkSurface&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;colorSurface&quot;</span>&gt;</span>#121212<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/cf73673343b8d83e857826cd360fac8c#file-themes_overlay_themeoverlay-xml">themes_overlay_themeoverlay.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<blockquote>
<p>Theme overlays are narrowly scoped themes, defining as few attributes as possible, designed to overlay another theme</p>
</blockquote>
<p>By convention, we name these beginning with “ThemeOverlay”. There are a number of handy theme overlays <a target="_blank" rel="noopener" href="https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/theme/res/values/themes_overlay.xml">provided by MDC</a> (and <a target="_blank" rel="noopener" href="https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/appcompat/appcompat/src/main/res/values/themes.xml#76">AppCompat</a>) that you can use to flip the color of a subsection of your app from light to dark:</p>
<ul>
<li><code>ThemeOverlay.MaterialComponents.Dark</code></li>
<li><code>ThemeOverlay.MaterialComponents.Light</code></li>
</ul>
<p>By definition, theme overlays don’t specify a number of things and shouldn’t be used in isolation e.g. as the theme of your activity. In fact you can think of 2 “types” of theme you can use in your app:</p>
<ol>
<li><strong>“Full” themes</strong>. These specify everything you’d need for a screen. They inherit from another “full” theme like <code>Theme.MaterialComponents</code> and should be used to theme an <code>Activity</code>.</li>
<li><strong>Theme overlays</strong>. Only ever intended to be applied <em>over</em> a full theme, i.e. should not be used in isolation as likely won’t specify important and necessary things.</li>
</ol>
<h1 id="Ever-present"><a href="#Ever-present" class="headerlink" title="Ever-present"></a>Ever-present</h1><p>There’s always a theme in effect, even if you don’t specify one anywhere in your app you’ll inherit a <a target="_blank" rel="noopener" href="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/content/res/Resources.java;l=166?q=selectDefaultTheme">default theme</a>. As such the example above was a simplification and you should never use a full theme within a <code>View</code> and instead use theme overlays:</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Copyright 2019 Google LLC.	</span><br><span class="line">   SPDX-License-Identifier: Apache-2.0 --&gt;</span><br><span class="line">&lt;ViewGroup …</span><br><span class="line"><span class="deletion">-   android:theme=&quot;@style/Theme.App.Foo&quot;&gt;</span></span><br><span class="line"><span class="addition">+   android:theme=&quot;@style/ThemeOverlay.App.Foo&quot;&gt;</span></span><br><span class="line">&lt;Button …</span><br><span class="line"><span class="deletion">-   android:theme=&quot;@style/Theme.App.Bar&quot;/&gt;</span></span><br><span class="line"><span class="addition">+   android:theme=&quot;@style/ThemeOverlay.App.Bar&quot;/&gt;</span></span><br><span class="line">&lt;/ViewGroup&gt;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/543b9c5619cfde5afd44fe023e77f77a#file-themes_overlay_use_overlays-xml-diff">themes_overlay_use_overlays.xml.diff</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>These overlays won’t exist in isolation but will themselves be overlaid on the theme of the enclosing <code>Activity</code>.</p>
<h1 id="Cost-Benefit"><a href="#Cost-Benefit" class="headerlink" title="Cost : Benefit"></a>Cost : Benefit</h1><p>Using Themes has a run-time cost; each time that you declare an <code>android:theme</code>, you’re creating a new <code>ContextThemeWrapper</code>, which allocates new <code>Theme</code> and <code>Resources</code> instances. It also introduces more levels of styling indirection to be resolved. Be wary of using themes <em>too</em> liberally, especially in repeated situations such as <code>RecyclerView</code> item layouts or profile to monitor their impact.</p>
<h1 id="Use-in-Context"><a href="#Use-in-Context" class="headerlink" title="Use in Context"></a>Use in Context</h1><p>We said that a <code>Theme</code> is associated with a <code>Context</code> — this means that if you’re using a <code>Context</code> to retrieve a resource in code, then be careful that you use <em>the right</em> <code>Context</code>. For example, somewhere in your code you may retrieve a <code>Drawable</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someView.background &#x3D; AppCompatResources.getDrawable(requireContext(), R.drawable.foo)</span><br></pre></td></tr></table></figure>

<p>If the drawable references a theme attribute (which all drawables can do from API 21+, and <code>VectorDrawable</code>s <a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/draw-a-path-rendering-android-vectordrawables-89a33b5e5ebf">can do</a> from API 14+ via Jetpack) then you should ensure you use the right <code>Context</code> to load the <code>Drawable</code>. If you don’t you might be frustrated when trying to apply a theme to a sub-hierarchy and wondering why your <code>Drawable</code> isn’t respecting it. For example if you use a <code>Fragment</code> or <code>Activity</code>’s <code>Context</code> to load the <code>Drawable</code>, this won’t respect themes applied lower down in the tree. Instead use the <code>Context</code> <em>closest</em> to where the resource will be used:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someView.background &#x3D; AppCompatResources.getDrawable(someView.context, R.drawable.foo)</span><br></pre></td></tr></table></figure>

<h1 id="Mis-Application"><a href="#Mis-Application" class="headerlink" title="Mis-Application"></a>Mis-Application</h1><p>We’ve talked about themes and contexts existing in a tree: <code>Activity</code> &gt; <code>ViewGroup</code> &gt; <code>View</code> etc. It can be tempting to extend this mental model to include the <code>Application</code> class, after all you can specify a theme on the <code>&lt;application&gt;</code> tag in your manifest. <strong>Don’t be fooled by this</strong>!!</p>
<p>The <code>Application</code> <code>Context</code> does <strong>not</strong> retain any theme information, the theme that you can set in your manifest is merely used as a fallback for any <code>Activity</code> which doesn’t explicitly set a theme. As such you should never use the <code>Application</code> <code>Context</code> to <a target="_blank" rel="noopener" href="https://riggaroo.co.za/dark-mode-musings-beware-of-the-context/">load resources</a> which might vary by theme (like drawables or colors) or to resolve theme attributes.</p>
<blockquote>
<p><em>Never use the</em> <code>*Application*</code> <code>*Context*</code> <em>to load themable resources</em></p>
</blockquote>
<p>This is also why we specify a “full” theme for an <code>Activity</code> and structure these to extend from any application wide theme — an <code>&lt;activity&gt;</code>’s theme isn’t overlaid over the <code>&lt;application&gt;</code>’s.</p>
<h1 id="Build-up"><a href="#Build-up" class="headerlink" title="Build up"></a>Build up</h1><p>Hopefully this post has explained how themes overlay ancestors in a tree and how this behavior can be useful when styling our apps. Use the <code>android:theme</code> tag to theme sections of your layout and use theme overlays to only adjust the attributes you need. Be mindful of using the right theme and context to load resources and be wary of the application context!</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-overlay-1ffd57745207">https://medium.com/androiddevelopers/android-styling-themes-overlay-1ffd57745207</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/android-styling-themes-overlay.html" data-id="ckweu3ezf00ema1vh1mi71a3w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android-Styling-Prefer-Theme-Attributes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/android-styling-prefer-theme-attributes.html" class="article-date">
  <time datetime="2020-08-02T07:12:58.000Z" itemprop="datePublished">2020-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/android-styling-prefer-theme-attributes.html">Android Styling: Prefer Theme Attributes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In the previous posts in this series on Android styling, we looked at the difference between themes and styles and why it’s a good idea to factor out things that you wish to vary by theme and common theme attributes to use:</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-vs-styles-ebe05f917578">Android Styling: Themes vs StylesThe Android styling system offers a powerful way to specify your app’s visual design, but it can be easy to misuse…medium.com</a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-common-theme-attributes-8f7c50c9eaba">Android Styling: Common Theme AttributesIn the previous article in this series on Android styling, we looked at the difference between themes and styles and…medium.com</a></p>
<p>This enables us to create fewer layouts or styles, isolating changes within a theme. In practice, you largely want to vary colors by theme and as such you should always* refer to colors via theme attributes.</p>
<blockquote>
<p><em>Always* refer to colors via theme attributes</em></p>
</blockquote>
<p>That means you can consider code like this to be a smell:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">View</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span>=<span class="string">&quot;@color/white&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/c4cc6ee85d8f53c95dfb07a49c73bd1d#file-prefer_theme_attrs_color_res-xml">prefer_theme_attrs_color_res.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>Instead you should refer to a theme attribute, allowing you to vary the color by theme, for example, providing a different value in <a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/ui/look-and-feel/darktheme">dark theme</a>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">View</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span>=<span class="string">&quot;?attr/colorSurface&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/7886005615abde4d3b196f192dc961da#file-prefer_theme_attrs_color_attr-xml">prefer_theme_attrs_color_attr.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>Even if you’re not currently supporting alternate themes (what–no dark theme??), I’d recommend following this approach as it’ll make adopting theming much easier.</p>
<h1 id="Qualified-Colors"><a href="#Qualified-Colors" class="headerlink" title="Qualified Colors?"></a>Qualified Colors?</h1><p>You <em>can</em> vary colors by providing alternate values in different configurations (e.g. <code>@color/foo</code> defined in both <code>res/**values**/colors.xml</code> and an alternate value set in <code>res/**values-night**/colors.xml</code>) but I’d recommend using theme attributes instead.</p>
<p>Varying at the color layer forces you to give <strong>semantic names</strong> to colors i.e. you likely wouldn’t name a color <code>@color/white</code> and provide a dark variant in the <code>-night</code> configuration — that would be pretty confusing. Instead you might be tempted to use a <em>semantic</em> name, like <code>@color/background</code>. The problem with this is that it combines both the declaration of the color and providing the value. As such it gives no indication that this can or will vary by theme.</p>
<p>Varying <code>@colors</code> can also encourage you to create more colors. If a different situation calls for a new semantically named color with the same value (i.e. not a background but should be the same color), then you still need to create a new entry in your colors file.</p>
<p>By using a theme attribute we separate the declaration of semantic colors from providing their values and make call-sites clearer that the color will vary by theme (as they use the <code>?attr/</code> syntax). Keeping your color declarations to literally named values encourages you to define a palette of colors used by your app and vary them at the theme level, keeping your colors file small and maintainable.</p>
<blockquote>
<p><em>Define a palette of colors used by your app and vary them at the theme level</em></p>
</blockquote>
<p>The added benefit of this approach is that layouts/styles referring to these colors become more reusable. Because themes can be overlaid or varied, the indirection means you don’t need to create alternate layouts or styles just to vary some colors — you can use the same layouts with a different theme.</p>
<h1 id="Always"><a href="#Always" class="headerlink" title="Always?"></a>Always?</h1><p>I placed an asterix on <em>“always* refer to colors via theme attributes”</em> because there may be occasions where you explicitly don’t want to vary a color by theme. For example, the <a target="_blank" rel="noopener" href="https://material.io/design/color/dark-theme.html#ui-application">Material Design guidelines</a> call out occasions where you may wish to use the same brand color in both light and dark themes.</p>
<img src="/helloworld/images/2020080207.png" class="">

<p>In these rare cases, it’s perfectly valid to refer directly to a color resource:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">FloatingActionButton</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">app:backgroundTint</span>=<span class="string">&quot;@color/owl_pink_500&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/2264b82b8d36eb1d9fd67c80dd25b940#file-prefer_theme_attrs_constant_color_exception-xml">prefer_theme_attrs_constant_color_exception.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<h1 id="State-of-the-art"><a href="#State-of-the-art" class="headerlink" title="State of the art"></a>State of the art</h1><p>Another situation where you might not refer directly to a theme attribute in your layouts/styles is when using <code>ColorStateList</code><a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/content/res/ColorStateList">s</a>.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">View</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span>=<span class="string">&quot;@color/primary_20&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/4b6969e1d21b0f02fa20604d2926569b#file-prefer_theme_attrs_csl_exception-xml">prefer_theme_attrs_csl_exception.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>This might be valid if <code>primary_20</code> is a <code>ColorStateList</code> which itself refers to theme attributes for the color values (see below). While commonly used to provide different colors in different states (pressed, disabled etc) <code>ColorStateList</code>s have another capability that can be useful for theming. They let you specify an alpha value to be applied to a color:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> …</span></span><br><span class="line">  &lt;item android:alpha=&quot;0.20&quot; android:color=&quot;?attr/colorPrimary&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/d5f6466cb68e6cdfeb5bf21b9d98d8cb#file-prefer_theme_attrs_csl-xml">prefer_theme_attrs_csl.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>This kind of single-item-<code>ColorStateList</code> (i.e. only supplying a single, default color, not different colors per state) helps reduce the number of color resources that you need to maintain. That is rather than defining a new color resource that manually sets an alpha value on your primary color (per configuration!) instead this alters whatever <code>colorPrimary</code> is in the current theme. If your primary color changes you only need to update it in a single place, not hunting down all instances of where it has been tweaked.</p>
<p>While useful, there are some caveats to this technique to be aware of.</p>
<p>\1. If the specified color <em>also</em> has an alpha value, then the alphas are <em>combined</em> e.g. applying 50% alpha to 50% opaque white would yield 25% white:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> …</span></span><br><span class="line">  &lt;item android:alpha=&quot;0.50&quot; android:color=&quot;#80ffffff&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/06d23f5814992c449a793e9c7768039c#file-prefer_theme_attrs_csl_combined_alpha-xml">prefer_theme_attrs_csl_combined_alpha.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>For this reason, it’s preferable to specify theme colors as fully opaque and use <code>ColorStateList</code>s to modify their alphas.</p>
<p>\2. The alpha component was only added in API 23 so if your min sdk is lower than this, be sure to use <code>AppCompatResources.getColorStateList</code> which backports this behavior (and always use the <code>android:alpha</code> namespace, never the <code>app:alpha</code> namespace).</p>
<p>\3. Often we use a shorthand to set a color as a drawable e.g.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">View</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span>=<span class="string">&quot;@color/foo&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/ae17cd8bc8030bec7c330ad0d93746ef#file-prefer_theme_attrs_view_background_color-xml">prefer_theme_attrs_view_background_color.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>A <code>View</code>’s background is a drawable, this shorthand coerces the given color to a <code>ColorDrawable</code>. However there is no way to convert a <code>ColorStateList</code> to a <code>Drawable</code> (before API 29 when <code>ColorStateListDrawable</code> was introduced to solve this issue). We can however work around this restriction:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">View</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span>=<span class="string">&quot;@drawable/a_solid_white_rectangle_shape_drawable&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">app:backgroundTint</span>=<span class="string">&quot;@color/some_color_state_list&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/ffffbe1b63a23147d1cc878098867084#file-prefer_theme_attrs_view_background_tint-xml">prefer_theme_attrs_view_background_tint.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>Be sure that your background tint supports the states your view needs e.g. if it needs to change when disabled.</p>
<h1 id="Enforcement"><a href="#Enforcement" class="headerlink" title="Enforcement"></a>Enforcement</h1><p>So you’re convinced that you should be using theme attributes and <code>ColorStateList</code>s, but how do you enforce this across your codebase or team? You can try to be vigilant during code reviews but this doesn’t scale well. A better approach is to rely on tooling to catch this. This article outlines how to add a lint check to look for literal color uses and could be extended to cover all advice in this article:</p>
<p><a target="_blank" rel="noopener" href="https://proandroiddev.com/making-android-lint-theme-aware-6285737b13bc">Making Android Lint Theme AwareUse Android Lint API to identify screens and drawable not ready for dark theme. Also, use it to maintain dark theme…proandroiddev.com</a></p>
<h1 id="Be-Indirect"><a href="#Be-Indirect" class="headerlink" title="Be Indirect"></a>Be Indirect</h1><p>Using theme attributes and <code>ColorStateList</code>s to factor colors out to your theme makes your layouts and styles more <em>flexible</em>, promoting reuse and keeping your codebase lean and maintainable.</p>
<p>Join us in the next post where we’ll look more at using themes and how they interact:</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-overlay-1ffd57745207">Android Styling: Themes OverlayIn previous articles in this series on Android styling, we’ve looked at the difference between styles and themes…medium.com
  </a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-prefer-theme-attributes-412caa748774">https://medium.com/androiddevelopers/android-styling-prefer-theme-attributes-412caa748774</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/android-styling-prefer-theme-attributes.html" data-id="ckweu3eze00eia1vhddl6899j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android-Styling-Common-Theme-Attributes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/android-styling-common-theme-attributes.html" class="article-date">
  <time datetime="2020-08-02T07:12:25.000Z" itemprop="datePublished">2020-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/helloworld/android-styling-common-theme-attributes.html">Android Styling: Common Theme Attributes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In the previous article in this series on Android styling, we looked at the difference between themes and styles and how themes allow you to write more flexible styles and layouts which isolate changes:</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-themes-vs-styles-ebe05f917578">Android Styling: Themes vs StylesThe Android styling system offers a powerful way to specify your app’s visual design, but it can be easy to misuse…medium.com</a></p>
<p>Specifically we recommended using theme attributes to provide a point of indirection to resources, so that you can vary them (e.g. in <a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/ui/look-and-feel/darktheme">dark theme</a>). That is, if you find yourself writing a direct resource reference (or worse yet, a hardcoded value 😱) in a layout or style, consider if you should use a theme attribute instead.</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- Copyright 2019 Google LLC.	</span><br><span class="line">   SPDX-License-Identifier: Apache-2.0 --&gt;</span><br><span class="line">&lt;ConstraintLayout ...</span><br><span class="line"><span class="deletion">-  android:foreground=&quot;@drawable/some_ripple&quot;</span></span><br><span class="line"><span class="deletion">-  android:background=&quot;@color/blue&quot; /&gt;</span></span><br><span class="line"><span class="addition">+  android:foreground=&quot;?attr/selectableItemBackground&quot;</span></span><br><span class="line"><span class="addition">+  android:background=&quot;?attr/colorPrimarySurface&quot; /&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/7975a81a31afa7bebfc17d2e825168d3#file-common_theme_attrs_prefer-xml-diff">common_theme_attrs_prefer.xml.diff</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>But what theme attributes are available to use? This post highlights the common ones that you should know about; those that come from Material, AppCompat or the platform. This is not a complete list (for that I’d recommend browsing the attrs files linked below where they are defined) but these are the attributes that I use all the time.</p>
<h1 id="Colors"><a href="#Colors" class="headerlink" title="Colors"></a>Colors</h1><p>Many of these colors come from the <a target="_blank" rel="noopener" href="https://material.io/design/color/">Material color system</a>, which defines semantic names for colors that you can use throughout your app (<a target="_blank" rel="noopener" href="https://material.io/develop/android/theming/color">implemented as theme attrs</a>).</p>
<img src="/helloworld/images/2020080202.png" class="">

<ul>
<li><code>?attr/colorPrimary</code> The primary branding color for the app.</li>
<li><code>?attr/colorSecondary</code> The secondary branding color for the app, usually a bright complement to the primary branding color.</li>
<li><code>?attr/colorOn[Primary, Secondary, Surface etc]</code> A color which contrasts against the named color.</li>
<li><code>?attr/color[Primary, Secondary]Variant</code> An alternate shade of the given color.</li>
<li><code>?attr/colorSurface</code> A color for surfaces of components, such as cards, sheets, and menus.</li>
<li><code>?android:attr/colorBackground</code> The background for the screen.</li>
<li><code>?attr/colorPrimarySurface</code> switches between <code>colorPrimary</code> in the Light themes, <code>colorSurface</code> in the Dark theme.</li>
<li><code>?attr/colorError</code> A color for displaying errors.</li>
</ul>
<p>Other handy colors:</p>
<ul>
<li><code>?attr/colorControlNormal</code> The color applied to icons/controls in their normal state.</li>
<li><code>?attr/colorControlActivated</code> The color applied to icons/controls in their activated state (e.g. checked).</li>
<li><code>?attr/colorControlHighlight</code> The color applied to control highlights (e.g. ripples, list selectors).</li>
<li><code>?android:attr/textColorPrimary</code> The most prominent text color.</li>
<li><code>?android:attr/textColorSecondary</code> Secondary text color.</li>
</ul>
<h1 id="Dimens"><a href="#Dimens" class="headerlink" title="Dimens"></a>Dimens</h1><ul>
<li><code>?attr/listPreferredItemHeight</code> Standard (min) height for list items.</li>
<li><code>?attr/actionBarSize</code> The height of a toolbar.</li>
</ul>
<h1 id="Drawables"><a href="#Drawables" class="headerlink" title="Drawables"></a>Drawables</h1><ul>
<li><code>?attr/selectableItemBackground</code> A ripple/highlight for interactive items (also handy for foregrounds!!)</li>
<li><code>?attr/selectableItemBackgroundBorderless</code> An unbounded ripple.</li>
<li><code>?attr/dividerVertical</code> A drawable that may be used as a vertical divider between visual elements.</li>
<li><code>?attr/dividerHorizontal</code> A drawable that may be used as a horizontal divider between visual elements.</li>
</ul>
<h1 id="TextAppearances"><a href="#TextAppearances" class="headerlink" title="TextAppearances"></a>TextAppearances</h1><p>Material <a target="_blank" rel="noopener" href="https://material.io/design/typography/the-type-system.html#type-scale">defines</a> a type scale — a discrete set of text styles that you should use throughout your app, each of which is <a target="_blank" rel="noopener" href="https://material.io/develop/android/theming/typography/">provided</a> as a theme attribute which can be set as a <code>textAppearance</code>. Check out the <a target="_blank" rel="noopener" href="https://material.io/design/typography/the-type-system.html#">Material type scale generator</a> to help generate a scale for different fonts.</p>
<img src="/helloworld/images/2020080203.png" class="">

<ul>
<li><code>?attr/textAppearanceHeadline1</code> defaults to light 96sp text.</li>
<li><code>?attr/textAppearanceHeadline2</code> defaults to light 60sp text.</li>
<li><code>?attr/textAppearanceHeadline3</code> defaults to regular 48sp text.</li>
<li><code>?attr/textAppearanceHeadline4</code> defaults to regular 34sp text.</li>
<li><code>?attr/textAppearanceHeadline5</code> defaults to regular 24sp text.</li>
<li><code>?attr/textAppearanceHeadline6</code> defaults to medium 20sp text.</li>
<li><code>?attr/textAppearanceSubtitle1</code> defaults to regular 16sp text.</li>
<li><code>?attr/textAppearanceSubtitle2</code> defaults to medium 14sp text.</li>
<li><code>?attr/textAppearanceBody1</code> defaults to regular 16sp text.</li>
<li><code>?attr/textAppearanceBody2</code> defaults to regular 14sp text.</li>
<li><code>?attr/textAppearanceCaption</code> defaults to regular 12sp text.</li>
<li><code>?attr/textAppearanceButton</code> defaults to medium all caps 14sp text.</li>
<li><code>?attr/textAppearanceOverline</code> defaults to regular all caps 10sp text.</li>
</ul>
<h1 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h1><p>Material employs a <a target="_blank" rel="noopener" href="https://material.io/design/shape">shape system</a> which is <a target="_blank" rel="noopener" href="https://material.io/develop/android/theming/shape/">implemented</a> as theme attrs for small, medium and large components. Note that if you’re setting a shape appearance on a custom component, you likely want to use a <code>MaterialShapeDrawable</code> as it’s background which understands and implements the shaping.</p>
<img src="/helloworld/images/2020080204.png" class="">

<ul>
<li><code>?attr/shapeAppearanceSmallComponent</code> used for Buttons, Chips, Text Fields etc. Defaults to rounded 4dp corners.</li>
<li><code>?attr/shapeAppearanceMediumComponent</code> used for Cards, Dialogs, Date Pickers etc. Defaults to rounded 4dp corners.</li>
<li><code>?attr/shapeAppearanceLargeComponent</code> used for Bottom Sheets etc. Defaults to rounded 0dp corners (i.e. square!)</li>
</ul>
<h1 id="Button-Styles"><a href="#Button-Styles" class="headerlink" title="Button Styles"></a>Button Styles</h1><img src="/helloworld/images/2020080205.png" class="">

<p>This might seem super specific, but Material defines three <em>types</em> of buttons: <a target="_blank" rel="noopener" href="https://material.io/components/buttons/#contained-button">Contained</a>, <a target="_blank" rel="noopener" href="https://material.io/components/buttons/#text-button">Text</a> and <a target="_blank" rel="noopener" href="https://material.io/components/buttons/#outlined-button">Outlined</a>. MDC offers theme attrs that you can use to set the <code>style</code> of a <code>MaterialButton</code>:</p>
<ul>
<li><code>?attr/materialButtonStyle</code> defaults to contained (or just omit the style).</li>
<li><code>?attr/borderlessButtonStyle</code> for a text style button.</li>
<li><code>?attr/materialButtonOutlinedStyle</code> for outlined style.</li>
</ul>
<h1 id="Floats"><a href="#Floats" class="headerlink" title="Floats"></a>Floats</h1><ul>
<li><code>?android:attr/disabledAlpha</code> Default disabled alpha for widgets.</li>
<li><code>?android:attr/primaryContentAlpha</code> The alpha applied to the foreground elements.</li>
<li><code>?android:attr/secondaryContentAlpha</code> The alpha applied to secondary elements.</li>
</ul>
<h1 id="App-vs-Android-namespace"><a href="#App-vs-Android-namespace" class="headerlink" title="App vs Android namespace"></a>App vs Android namespace</h1><p>You might have noticed that some attributes are referenced by<br><code>?**android**:attr/foo</code> and others just by <code>?attr/bar</code>. This is because some are defined by the Android platform, and as such you need the <code>android</code> part to reference them by their namespace (just like with view attributes in layouts: <code>android:id</code>). Those without come from static libraries (i.e. AppCompat or MDC) which are compiled into your application, so don’t need the namespace (similar to how you might use <code>app:baz</code> in a layout). Some elements are defined <em>both</em> in the platform and in a library e.g. <code>colorPrimary</code>. In these cases, prefer the non-platform version, as this can be used on all API levels i.e. they’re duplicated in a library precisely to backport them. In these cases, I’ve listed the non-platform versions above.</p>
<blockquote>
<p>prefer non-platform attributes which can be used on all API levels</p>
</blockquote>
<h1 id="More-Resources"><a href="#More-Resources" class="headerlink" title="More Resources"></a>More Resources</h1><p>For a complete list of the theme attributes available to use, go to the source of truth:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/res/res/values/attrs.xml">Android platform</a></li>
<li><a target="_blank" rel="noopener" href="https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/appcompat/appcompat/src/main/res/values/attrs.xml">AppCompat</a></li>
</ul>
<p>Material Design Components:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/color/res/values/attrs.xml">Color</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/shape/res/values/attrs.xml">Shape</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/typography/res/values/attrs.xml">Type</a></li>
</ul>
<h1 id="Do-It-Yourself"><a href="#Do-It-Yourself" class="headerlink" title="Do It Yourself"></a>Do It Yourself</h1><p>Sometimes there isn’t a theme attribute which abstracts something you’d like to vary by theme. No worries… create your own! Here’s an example from the <a target="_blank" rel="noopener" href="https://github.com/google/iosched">Google I/O app</a> which shows a list of conference sessions in two screens.</p>
<img src="/helloworld/images/2020080206.png" class="">

<p>Two screens listing conference sessions</p>
<p>They’re largely similar but the left screen must leave space for the sticky time headers while the right screen does not. We implemented this by abstracting where to align items behind a theme attribute so that we can vary them by theme and use the same layout across two different screens:</p>
<p>\1. Define the theme attribute in <a target="_blank" rel="noopener" href="https://github.com/google/iosched/blob/89df01ebc19d9a46495baac4690c2ebfa74946dc/mobile/src/main/res/values/attrs.xml#L41">attrs.xml</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">attr</span> <span class="attr">name</span>=<span class="string">&quot;sessionListKeyline&quot;</span> <span class="attr">format</span>=<span class="string">&quot;dimension&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/05fa9dcf1e344dab77edc06e68dc85c0#file-common_theme_attrs_custom_attr-xml">common_theme_attrs_custom_attr.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>\2. Provide <a target="_blank" rel="noopener" href="https://github.com/google/iosched/blob/89df01ebc19d9a46495baac4690c2ebfa74946dc/mobile/src/main/res/values/themes.xml#L51">different</a> <a target="_blank" rel="noopener" href="https://github.com/google/iosched/blob/89df01ebc19d9a46495baac4690c2ebfa74946dc/mobile/src/main/res/values/themes.xml#L78">values</a> in different themes:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;Theme.IOSched.Schedule&quot;</span>&gt;</span></span><br><span class="line">  …</span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;sessionListKeyline&quot;</span>&gt;</span>72dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;Theme.IOSched.Speaker&quot;</span>&gt;</span></span><br><span class="line">  …</span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;sessionListKeyline&quot;</span>&gt;</span>16dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/f34af81ac45d2db42e88ed44ff055f79#file-common_theme_attrs_custom_attr_values-xml">common_theme_attrs_custom_attr_values.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<p>\3. <a target="_blank" rel="noopener" href="https://github.com/google/iosched/blob/89df01ebc19d9a46495baac4690c2ebfa74946dc/mobile/src/main/res/layout/item_session.xml#L61">Use</a> the theme attr in the <em>single</em> layout used on <strong>both</strong> screens (each using one of the above themes):</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Copyright 2019 Google LLC.	</span></span><br><span class="line"><span class="comment">   SPDX-License-Identifier: Apache-2.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Guideline</span> …</span></span><br><span class="line"><span class="tag">  <span class="attr">app:layout_constraintGuide_begin</span>=<span class="string">&quot;?attr/sessionListKeyline&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gist.github.com/nickbutcher/0402c4f66a7c41935245f3566aee5239#file-common_theme_attrs_custom_attr_usage-xml">common_theme_attrs_custom_attr_usage.xml</a> hosted with ❤ by <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a></p>
<h1 id="Question-mark-everything"><a href="#Question-mark-everything" class="headerlink" title="Question (mark) everything"></a>Question (mark) everything</h1><p>Knowing what theme attributes are available, equips you to use them when writing your layouts, styles or drawables. Using theme attributes makes it much easier to support theming (like <a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/ui/look-and-feel/darktheme">dark theme</a>) and to write more flexible, maintainable code. For a deep dive on this, join us in our next post in this series:</p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-prefer-theme-attributes-412caa748774">Android Styling: Prefer Theme AttributesTheme attribute all the thingsmedium.com
  </a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/android-styling-common-theme-attributes-8f7c50c9eaba">https://medium.com/androiddevelopers/android-styling-common-theme-attributes-8f7c50c9eaba</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/android-styling-common-theme-attributes.html" data-id="ckweu3ezb00eea1vh62gf76zl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/helloworld/page/8/">&amp;laquo; Prev</a><a class="page-number" href="/helloworld/">1</a><span class="space">&hellip;</span><a class="page-number" href="/helloworld/page/7/">7</a><a class="page-number" href="/helloworld/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/helloworld/page/10/">10</a><a class="page-number" href="/helloworld/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/helloworld/page/24/">24</a><a class="extend next" rel="next" href="/helloworld/page/10/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/AI/">AI</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/API/">API</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Auth/">Auth</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/">Database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/Oracle/">Oracle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/">DevOps</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/MinIO/">MinIO</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Supervisor/">Supervisor</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/WAMP/">WAMP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Go/">Go</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Javascript/">Javascript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Javascript/jQuery/">jQuery</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Javscript/">Javscript</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Kotlin/">Kotlin</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/Ubuntu/">Ubuntu</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/">PHP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/Laravel/">Laravel</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/">Web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/HTML/">HTML</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/Composer/">Composer</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/PhpStorm/">PhpStorm</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/%E8%B5%84%E6%96%99/">资料</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%88%AC%E8%99%AB/">爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">版本控制</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Gitlab/">Gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/VisualSVN/">VisualSVN</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E8%B5%84%E6%96%99/">资料</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/AST/" rel="tag">AST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Axios/" rel="tag">Axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Composer/" rel="tag">Composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Date/" rel="tag">Date</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/DevOps/" rel="tag">DevOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Go/" rel="tag">Go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Laravel/" rel="tag">Laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/MinIO/" rel="tag">MinIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/OAuth-2-0/" rel="tag">OAuth 2.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Time/" rel="tag">Time</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/TimeZone/" rel="tag">TimeZone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/VisualSVN/" rel="tag">VisualSVN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/WAMP/" rel="tag">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ajax/" rel="tag">ajax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android-studio/" rel="tag">android-studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/api/" rel="tag">api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/auth/" rel="tag">auth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/color/" rel="tag">color</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/composer/" rel="tag">composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/computer/" rel="tag">computer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/crontab/" rel="tag">crontab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/cros/" rel="tag">cros</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/database/" rel="tag">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/echarts/" rel="tag">echarts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/editor/" rel="tag">editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/emoji/" rel="tag">emoji</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/face-recognition/" rel="tag">face_recognition</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gradle/" rel="tag">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/homestead/" rel="tag">homestead</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/https/" rel="tag">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/icon/" rel="tag">icon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/jQuery/" rel="tag">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/josn-ld/" rel="tag">josn-ld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/jquery/" rel="tag">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/json/" rel="tag">json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/jwt/" rel="tag">jwt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/keyboard/" rel="tag">keyboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/kotlin/" rel="tag">kotlin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/laravel/" rel="tag">laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/lemp/" rel="tag">lemp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/okhttp/" rel="tag">okhttp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/opcache/" rel="tag">opcache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/oracle/" rel="tag">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/pdf/" rel="tag">pdf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/pdo-oci/" rel="tag">pdo_oci</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpmyadmin/" rel="tag">phpmyadmin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpstorm/" rel="tag">phpstorm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/player/" rel="tag">player</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/proguard/" rel="tag">proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/regex/" rel="tag">regex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/room/" rel="tag">room</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/snowflake/" rel="tag">snowflake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/startup/" rel="tag">startup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/supervisor/" rel="tag">supervisor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ui/" rel="tag">ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue-router/" rel="tag">vue-router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/wsl/" rel="tag">wsl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/zmq/" rel="tag">zmq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" rel="tag">二维码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" rel="tag">大学课程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%89%93%E5%8D%B0/" rel="tag">打印</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">数据可视化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" rel="tag">数据集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%B0%B4%E5%8D%B0/" rel="tag">水印</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag">科学上网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%BD%91%E5%AE%89/" rel="tag">网安</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E8%B5%84%E6%96%99/" rel="tag">资料</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" rel="tag">项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" rel="tag">项目部署</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/helloworld/tags/AI/" style="font-size: 10px;">AI</a> <a href="/helloworld/tags/AST/" style="font-size: 10px;">AST</a> <a href="/helloworld/tags/Axios/" style="font-size: 10px;">Axios</a> <a href="/helloworld/tags/Composer/" style="font-size: 10px;">Composer</a> <a href="/helloworld/tags/Date/" style="font-size: 10px;">Date</a> <a href="/helloworld/tags/DevOps/" style="font-size: 10px;">DevOps</a> <a href="/helloworld/tags/Go/" style="font-size: 10px;">Go</a> <a href="/helloworld/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/helloworld/tags/Laravel/" style="font-size: 10px;">Laravel</a> <a href="/helloworld/tags/MinIO/" style="font-size: 10px;">MinIO</a> <a href="/helloworld/tags/OAuth-2-0/" style="font-size: 10px;">OAuth 2.0</a> <a href="/helloworld/tags/Time/" style="font-size: 10px;">Time</a> <a href="/helloworld/tags/TimeZone/" style="font-size: 10px;">TimeZone</a> <a href="/helloworld/tags/VisualSVN/" style="font-size: 10px;">VisualSVN</a> <a href="/helloworld/tags/WAMP/" style="font-size: 12.5px;">WAMP</a> <a href="/helloworld/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/helloworld/tags/ajax/" style="font-size: 10px;">ajax</a> <a href="/helloworld/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/helloworld/tags/android/" style="font-size: 18.75px;">android</a> <a href="/helloworld/tags/android-studio/" style="font-size: 10px;">android-studio</a> <a href="/helloworld/tags/api/" style="font-size: 10px;">api</a> <a href="/helloworld/tags/auth/" style="font-size: 10px;">auth</a> <a href="/helloworld/tags/color/" style="font-size: 10px;">color</a> <a href="/helloworld/tags/composer/" style="font-size: 12.5px;">composer</a> <a href="/helloworld/tags/computer/" style="font-size: 10px;">computer</a> <a href="/helloworld/tags/crontab/" style="font-size: 10px;">crontab</a> <a href="/helloworld/tags/cros/" style="font-size: 10px;">cros</a> <a href="/helloworld/tags/css/" style="font-size: 10px;">css</a> <a href="/helloworld/tags/database/" style="font-size: 10px;">database</a> <a href="/helloworld/tags/echarts/" style="font-size: 10px;">echarts</a> <a href="/helloworld/tags/editor/" style="font-size: 10px;">editor</a> <a href="/helloworld/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/helloworld/tags/emoji/" style="font-size: 10px;">emoji</a> <a href="/helloworld/tags/face-recognition/" style="font-size: 10px;">face_recognition</a> <a href="/helloworld/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/helloworld/tags/git/" style="font-size: 12.5px;">git</a> <a href="/helloworld/tags/github/" style="font-size: 11.25px;">github</a> <a href="/helloworld/tags/gitlab/" style="font-size: 11.25px;">gitlab</a> <a href="/helloworld/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/helloworld/tags/hexo/" style="font-size: 11.25px;">hexo</a> <a href="/helloworld/tags/homestead/" style="font-size: 12.5px;">homestead</a> <a href="/helloworld/tags/html/" style="font-size: 10px;">html</a> <a href="/helloworld/tags/http/" style="font-size: 11.25px;">http</a> <a href="/helloworld/tags/https/" style="font-size: 10px;">https</a> <a href="/helloworld/tags/icon/" style="font-size: 10px;">icon</a> <a href="/helloworld/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/helloworld/tags/jQuery/" style="font-size: 11.25px;">jQuery</a> <a href="/helloworld/tags/java/" style="font-size: 11.25px;">java</a> <a href="/helloworld/tags/javascript/" style="font-size: 16.25px;">javascript</a> <a href="/helloworld/tags/josn-ld/" style="font-size: 10px;">josn-ld</a> <a href="/helloworld/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/helloworld/tags/json/" style="font-size: 11.25px;">json</a> <a href="/helloworld/tags/jwt/" style="font-size: 10px;">jwt</a> <a href="/helloworld/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/helloworld/tags/kotlin/" style="font-size: 20px;">kotlin</a> <a href="/helloworld/tags/laravel/" style="font-size: 17.5px;">laravel</a> <a href="/helloworld/tags/lemp/" style="font-size: 10px;">lemp</a> <a href="/helloworld/tags/linux/" style="font-size: 16.25px;">linux</a> <a href="/helloworld/tags/markdown/" style="font-size: 11.25px;">markdown</a> <a href="/helloworld/tags/math/" style="font-size: 10px;">math</a> <a href="/helloworld/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/helloworld/tags/nginx/" style="font-size: 12.5px;">nginx</a> <a href="/helloworld/tags/okhttp/" style="font-size: 11.25px;">okhttp</a> <a href="/helloworld/tags/opcache/" style="font-size: 10px;">opcache</a> <a href="/helloworld/tags/oracle/" style="font-size: 12.5px;">oracle</a> <a href="/helloworld/tags/pdf/" style="font-size: 10px;">pdf</a> <a href="/helloworld/tags/pdo-oci/" style="font-size: 10px;">pdo_oci</a> <a href="/helloworld/tags/php/" style="font-size: 15px;">php</a> <a href="/helloworld/tags/phpmyadmin/" style="font-size: 10px;">phpmyadmin</a> <a href="/helloworld/tags/phpstorm/" style="font-size: 10px;">phpstorm</a> <a href="/helloworld/tags/player/" style="font-size: 10px;">player</a> <a href="/helloworld/tags/proguard/" style="font-size: 10px;">proguard</a> <a href="/helloworld/tags/redis/" style="font-size: 12.5px;">redis</a> <a href="/helloworld/tags/regex/" style="font-size: 10px;">regex</a> <a href="/helloworld/tags/room/" style="font-size: 10px;">room</a> <a href="/helloworld/tags/snowflake/" style="font-size: 10px;">snowflake</a> <a href="/helloworld/tags/startup/" style="font-size: 10px;">startup</a> <a href="/helloworld/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/helloworld/tags/ubuntu/" style="font-size: 11.25px;">ubuntu</a> <a href="/helloworld/tags/ui/" style="font-size: 10px;">ui</a> <a href="/helloworld/tags/vscode/" style="font-size: 11.25px;">vscode</a> <a href="/helloworld/tags/vue/" style="font-size: 11.25px;">vue</a> <a href="/helloworld/tags/vue-router/" style="font-size: 10px;">vue-router</a> <a href="/helloworld/tags/web/" style="font-size: 10px;">web</a> <a href="/helloworld/tags/wsl/" style="font-size: 12.5px;">wsl</a> <a href="/helloworld/tags/zmq/" style="font-size: 10px;">zmq</a> <a href="/helloworld/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" style="font-size: 10px;">二维码</a> <a href="/helloworld/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/helloworld/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 10px;">大学课程</a> <a href="/helloworld/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 10px;">大数据</a> <a href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">微服务</a> <a href="/helloworld/tags/%E6%89%93%E5%8D%B0/" style="font-size: 10px;">打印</a> <a href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 11.25px;">数据可视化</a> <a href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" style="font-size: 10px;">数据集</a> <a href="/helloworld/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/helloworld/tags/%E6%B0%B4%E5%8D%B0/" style="font-size: 10px;">水印</a> <a href="/helloworld/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10px;">浏览器</a> <a href="/helloworld/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/helloworld/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 10px;">科学上网</a> <a href="/helloworld/tags/%E7%BD%91%E5%AE%89/" style="font-size: 10px;">网安</a> <a href="/helloworld/tags/%E8%B5%84%E6%96%99/" style="font-size: 13.75px;">资料</a> <a href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" style="font-size: 10px;">项目管理</a> <a href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">项目部署</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/04/">四月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/helloworld/ui-20220528.html">UI</a>
          </li>
        
          <li>
            <a href="/helloworld/android-materailbutton-20220509.html">Android MaterialButton</a>
          </li>
        
          <li>
            <a href="/helloworld/laravel-redis-20220423.html">Laravel 使用 Redis</a>
          </li>
        
          <li>
            <a href="/helloworld/editor-20220420.html">编辑器</a>
          </li>
        
          <li>
            <a href="/helloworld/jquery-event-20220409.html">jQuery 事件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 He Fengbao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/helloworld/" class="mobile-nav-link">Home</a>
  
    <a href="/helloworld/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/helloworld/fancybox/jquery.fancybox.css">

  
<script src="/helloworld/fancybox/jquery.fancybox.pack.js"></script>




<script src="/helloworld/js/script.js"></script>




  </div>
</body>
</html>