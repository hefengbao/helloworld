<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  

  
  <title>Working with JSON in MySQL | HelloWorld</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="SQL databases tend to be rigid. If you have worked with them, you would agree that database design though it seems easier, is a lot trickier in practice. SQL databases believe in structure, that is wh">
<meta property="og:type" content="article">
<meta property="og:title" content="Working with JSON in MySQL">
<meta property="og:url" content="https://hefengbao.github.io/helloworld/working-with-json-in-mysql.html">
<meta property="og:site_name" content="HelloWorld">
<meta property="og:description" content="SQL databases tend to be rigid. If you have worked with them, you would agree that database design though it seems easier, is a lot trickier in practice. SQL databases believe in structure, that is wh">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/uoYvos3JTPezCeWjoZSO_1.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/A9dPz6CkS3W2Cjk5cOzR_2.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/hmMGbU8bRfuh9cA9vJKA_3.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/XR9EjnVLQfmK3itaeB1d_4.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/n5XZPZySJmmXjbPJjX5X_5.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/jL0CBs0RRW9SbeGrreSy_6.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/yIlWoY0RTfOywMsT6sTy_7.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/53SG0bOMQCK0v8xcXdPw_8.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/udLoFDtdTXiqegwblu1H_9.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/g8NePfG3SIqfnZrFVxzZ_10.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/8JdjWDSS3GmGadfmGUZQ_11.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/b55yf1CuRVq8iU96aK75_12.png">
<meta property="og:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/RJvQcJMCT273y3oF2lBg_13.png">
<meta property="article:published_time" content="2020-05-22T11:47:32.000Z">
<meta property="article:modified_time" content="2020-05-22T11:47:32.000Z">
<meta property="article:author" content="He Fengbao">
<meta property="article:tag" content="mysql">
<meta property="article:tag" content="json">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/uoYvos3JTPezCeWjoZSO_1.png">
  
    <link rel="alternate" href="/helloworld/atom.xml" title="HelloWorld" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/helloworld/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/helloworld/" id="logo">HelloWorld</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/helloworld/">Home</a>
        
          <a class="main-nav-link" href="/helloworld/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/helloworld/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://hefengbao.github.io/helloworld"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Working-with-JSON-in-MySQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/helloworld/working-with-json-in-mysql.html" class="article-date">
  <time datetime="2020-05-22T11:47:32.000Z" itemprop="datePublished">2020-05-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/helloworld/categories/Database/">Database</a>►<a class="article-category-link" href="/helloworld/categories/Database/MySQL/">MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Working with JSON in MySQL
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>SQL databases tend to be rigid.</p>
<p>If you have worked with them, you would agree that database design though it seems easier, is a lot trickier in practice. SQL databases believe in structure, that is why it’s called structured query language.</p>
<p>On the other side of the horizon, we have the NoSQL databases, also called schema-less databases that encourage flexibility. In schema-less databases, there is no imposed structural restriction, only data to be saved.</p>
<h3 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h3><ul>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-why-use-json">Why Use JSON</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-the-schema">The Schema</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-the-crud-operations">The CRUD Operations</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-a-primer-for-web-applications">A Primer for Web Applications</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-creating-the-migrations">Creating the Migrations</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-creating-the-models">Creating the Models</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-resource-operations">Resource Operations</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-curtains">Curtains</a></li>
</ul>
<p>Though every tool has it’s use case, sometimes things call for a hybrid approach.</p>
<p>What if you could structure some parts of your database and leave others to be flexible?</p>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-8.html">MySQL version 5.7.8</a> introduces a JSON data type that allows you to accomplish that.</p>
<p>In this tutorial, you are going to learn.</p>
<ol>
<li>How to design your database tables using JSON fields.</li>
<li>The various JSON based functions available in MYSQL to create, read, update, and delete rows.</li>
<li>How to work with JSON fields using the Eloquent ORM in Laravel.</li>
</ol>
<h2 id="Why-Use-JSON"><a href="#Why-Use-JSON" class="headerlink" title="Why Use JSON"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-why-use-json">Why Use JSON</a></h2><p>At this moment, you are probably asking yourself why would you want to use JSON when MySQL has been catering to a wide variety of database needs even before it introduced a JSON data type.</p>
<p>The answer lies in the use-cases where you would probably use a make-shift approach.</p>
<p>Let me explain with an example.</p>
<p>Suppose you are building a web application where you have to save a user’s configuration/preferences in the database.</p>
<p>Generally, you can create a separate database table with the <code>id</code>, <code>user_id</code>, <code>key</code>, and <code>value</code> fields or save it as a formatted string that you can parse at runtime.</p>
<p>However, this works well for a small number of users. If you have about a thousand users and five configuration keys, you are looking at a table with five thousand records that addresses a very small feature of your application.</p>
<p>Or if you are taking the formatted string route, extraneous code that only compounds your server load.</p>
<p>Using a JSON data type field to save a user’s configuration in such a scenario can spare you a database table’s space and bring down the number of records, which were being saved separately, to be the same as the number of users.</p>
<p>And you get the added benefit of not having to write any JSON parsing code, the ORM or the language runtime takes care of it.</p>
<h2 id="The-Schema"><a href="#The-Schema" class="headerlink" title="The Schema"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-the-schema">The Schema</a></h2><p>Before we dive into using all the cool JSON stuff in MySQL, we are going to need a sample database to play with.</p>
<p>So, let’s get our database schema out of the way first.</p>
<p>We are going to consider the use case of an online store that houses multiple brands and a variety of electronics.</p>
<p>Since different electronics have different attributes(compare a Macbook with a Vacuumn Cleaner) that buyers are interested in, typically the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model">Entity–attribute–value model (EAV)</a> pattern is used.</p>
<p>However, since we now have the option to use a JSON data type, we are going to drop EAV.</p>
<p>For a start, our database will be named <code>e_store</code> and has three tables only named, <code>brands</code>, <code>categories</code>, and <code>products</code> respectively.</p>
<p>Our <code>brands</code> and <code>categories</code> tables will be pretty similar, each having an <code>id</code> and a <code>name</code> field.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `e_store`</span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8</span><br><span class="line"><span class="keyword">DEFAULT</span> <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> default_storage_engine <span class="operator">=</span> INNODB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `e_store`.`brands`(</span><br><span class="line">    `id` <span class="type">INT</span> UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> auto_increment ,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">250</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `e_store`.`categories`(</span><br><span class="line">    `id` <span class="type">INT</span> UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> auto_increment ,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">250</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>The objective of these two tables will be to house the product categories and the brands that provide these products.</p>
<p>While we are at it, let us go ahead and seed some data into these tables to use later.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Brands */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`brands`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Samsung&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`brands`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Nokia&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`brands`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Canon&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Types of electronic device */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`categories`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Television&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`categories`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Mobilephone&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`categories`(`name`)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">&#x27;Camera&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/uoYvos3JTPezCeWjoZSO_1.png" alt="The brands table"></p>
<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/A9dPz6CkS3W2Cjk5cOzR_2.png" alt="The categories table"></p>
<p>Next, is the business area of this tutorial.</p>
<p>We are going to create a <code>products</code> table with the <code>id</code>, <code>name</code>, <code>brand_id</code>, <code>category_id</code>, and <code>attributes</code> fields.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `e_store`.`products`(</span><br><span class="line">    `id` <span class="type">INT</span> UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT ,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">250</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `brand_id` <span class="type">INT</span> UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `category_id` <span class="type">INT</span> UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `attributes` JSON <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(`id`) ,</span><br><span class="line">    INDEX `CATEGORY_ID`(`category_id` <span class="keyword">ASC</span>) ,</span><br><span class="line">    INDEX `BRAND_ID`(`brand_id` <span class="keyword">ASC</span>) ,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> `brand_id` <span class="keyword">FOREIGN</span> KEY(`brand_id`) <span class="keyword">REFERENCES</span> `e_store`.`brands`(`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> RESTRICT <span class="keyword">ON</span> UPDATE CASCADE ,</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> `category_id` <span class="keyword">FOREIGN</span> KEY(`category_id`) <span class="keyword">REFERENCES</span> `e_store`.`categories`(`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> RESTRICT <span class="keyword">ON</span> UPDATE CASCADE</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>Our table definition specifies foreign key constraints for the <code>brand_id</code> and <code>category_id</code> fields, specifying that they reference the <code>brands</code> and <code>categories</code> table respectively. We have also specified that the referenced rows should not be allowed to delete and if updated, the changes should reflect in the references as well.</p>
<p>The <code>attributes</code> field’s column type has been declared to be JSON which is the native data type now available in MySQL. This allows us to use the various JSON related constructs in MySQL on our <code>attributes</code> field.</p>
<p>Here is an entity relationship diagram of our created database.</p>
<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/hmMGbU8bRfuh9cA9vJKA_3.png" alt="The e_store database"></p>
<blockquote>
<p>Our database design is not the best in terms of efficiency and accuracy. There is no price column in the <code>products</code> table and we could do with putting a product into multiple categories. However, the purpose of this tutorial is not to teach database design but rather how to model objects of different nature in a single table using MySQL’s JSON features.</p>
</blockquote>
<h2 id="The-CRUD-Operations"><a href="#The-CRUD-Operations" class="headerlink" title="The CRUD Operations"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-the-crud-operations">The CRUD Operations</a></h2><p>Let us look at how to create, read, update, and delete data in a JSON field.</p>
<h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><p>Creating a record in the database with a JSON field is pretty simple.</p>
<p>All you need to do is add valid JSON as the field value in your insert statement.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Let&#x27;s sell some televisions */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Prime&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;screen&quot;: &quot;50 inch&quot;, &quot;resolution&quot;: &quot;2048 x 1152 pixels&quot;, &quot;ports&quot;: &#123;&quot;hdmi&quot;: 1, &quot;usb&quot;: 3&#125;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;10 watt&quot;, &quot;right&quot;: &quot;10 watt&quot;&#125;&#125;&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Octoview&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;screen&quot;: &quot;40 inch&quot;, &quot;resolution&quot;: &quot;1920 x 1080 pixels&quot;, &quot;ports&quot;: &#123;&quot;hdmi&quot;: 1, &quot;usb&quot;: 2&#125;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;10 watt&quot;, &quot;right&quot;: &quot;10 watt&quot;&#125;&#125;&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Dreamer&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;screen&quot;: &quot;30 inch&quot;, &quot;resolution&quot;: &quot;1600 x 900 pixles&quot;, &quot;ports&quot;: &#123;&quot;hdmi&quot;: 1, &quot;usb&quot;: 1&#125;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;10 watt&quot;, &quot;right&quot;: &quot;10 watt&quot;&#125;&#125;&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Bravia&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;screen&quot;: &quot;25 inch&quot;, &quot;resolution&quot;: &quot;1366 x 768 pixels&quot;, &quot;ports&quot;: &#123;&quot;hdmi&quot;: 1, &quot;usb&quot;: 0&#125;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;5 watt&quot;, &quot;right&quot;: &quot;5 watt&quot;&#125;&#125;&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Proton&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;screen&quot;: &quot;20 inch&quot;, &quot;resolution&quot;: &quot;1280 x 720 pixels&quot;, &quot;ports&quot;: &#123;&quot;hdmi&quot;: 0, &quot;usb&quot;: 0&#125;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;5 watt&quot;, &quot;right&quot;: &quot;5 watt&quot;&#125;&#125;&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/XR9EjnVLQfmK3itaeB1d_4.png" alt="The products table after adding televisions"></p>
<p>Instead of laying out the JSON object yourself, you can also use the built-in <code>JSON_OBJECT</code> function.</p>
<p>The <code>JSON_OBJECT</code> function accepts a list of key/value pairs in the form <code>JSON_OBJECT(key1, value1, key2, value2, ... key(n), value(n))</code> and returns a JSON object.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Let&#x27;s sell some mobilephones */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Desire&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line">        &quot;network&quot; ,</span><br><span class="line">        <span class="built_in">JSON_ARRAY</span>(&quot;GSM&quot; , &quot;CDMA&quot; , &quot;HSPA&quot; , &quot;EVDO&quot;) ,</span><br><span class="line">        &quot;body&quot; ,</span><br><span class="line">        &quot;5.11 x 2.59 x 0.46 inches&quot; ,</span><br><span class="line">        &quot;weight&quot; ,</span><br><span class="line">        &quot;143 grams&quot; ,</span><br><span class="line">        &quot;sim&quot; ,</span><br><span class="line">        &quot;Micro-SIM&quot; ,</span><br><span class="line">        &quot;display&quot; ,</span><br><span class="line">        &quot;4.5 inches&quot; ,</span><br><span class="line">        &quot;resolution&quot; ,</span><br><span class="line">        &quot;720 x 1280 pixels&quot; ,</span><br><span class="line">        &quot;os&quot; ,</span><br><span class="line">        &quot;Android Jellybean v4.3&quot;</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Passion&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line">        &quot;network&quot; ,</span><br><span class="line">        <span class="built_in">JSON_ARRAY</span>(&quot;GSM&quot; , &quot;CDMA&quot; , &quot;HSPA&quot;) ,</span><br><span class="line">        &quot;body&quot; ,</span><br><span class="line">        &quot;6.11 x 3.59 x 0.46 inches&quot; ,</span><br><span class="line">        &quot;weight&quot; ,</span><br><span class="line">        &quot;145 grams&quot; ,</span><br><span class="line">        &quot;sim&quot; ,</span><br><span class="line">        &quot;Micro-SIM&quot; ,</span><br><span class="line">        &quot;display&quot; ,</span><br><span class="line">        &quot;4.5 inches&quot; ,</span><br><span class="line">        &quot;resolution&quot; ,</span><br><span class="line">        &quot;720 x 1280 pixels&quot; ,</span><br><span class="line">        &quot;os&quot; ,</span><br><span class="line">        &quot;Android Jellybean v4.3&quot;</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Emotion&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line">        &quot;network&quot; ,</span><br><span class="line">        <span class="built_in">JSON_ARRAY</span>(&quot;GSM&quot; , &quot;CDMA&quot; , &quot;EVDO&quot;) ,</span><br><span class="line">        &quot;body&quot; ,</span><br><span class="line">        &quot;5.50 x 2.50 x 0.50 inches&quot; ,</span><br><span class="line">        &quot;weight&quot; ,</span><br><span class="line">        &quot;125 grams&quot; ,</span><br><span class="line">        &quot;sim&quot; ,</span><br><span class="line">        &quot;Micro-SIM&quot; ,</span><br><span class="line">        &quot;display&quot; ,</span><br><span class="line">        &quot;5.00 inches&quot; ,</span><br><span class="line">        &quot;resolution&quot; ,</span><br><span class="line">        &quot;720 x 1280 pixels&quot; ,</span><br><span class="line">        &quot;os&quot; ,</span><br><span class="line">        &quot;Android KitKat v4.3&quot;</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Sensation&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line">        &quot;network&quot; ,</span><br><span class="line">        <span class="built_in">JSON_ARRAY</span>(&quot;GSM&quot; , &quot;HSPA&quot; , &quot;EVDO&quot;) ,</span><br><span class="line">        &quot;body&quot; ,</span><br><span class="line">        &quot;4.00 x 2.00 x 0.75 inches&quot; ,</span><br><span class="line">        &quot;weight&quot; ,</span><br><span class="line">        &quot;150 grams&quot; ,</span><br><span class="line">        &quot;sim&quot; ,</span><br><span class="line">        &quot;Micro-SIM&quot; ,</span><br><span class="line">        &quot;display&quot; ,</span><br><span class="line">        &quot;3.5 inches&quot; ,</span><br><span class="line">        &quot;resolution&quot; ,</span><br><span class="line">        &quot;720 x 1280 pixels&quot; ,</span><br><span class="line">        &quot;os&quot; ,</span><br><span class="line">        &quot;Android Lollypop v4.3&quot;</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Joy&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span> ,</span><br><span class="line">    <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line">        &quot;network&quot; ,</span><br><span class="line">        <span class="built_in">JSON_ARRAY</span>(&quot;CDMA&quot; , &quot;HSPA&quot; , &quot;EVDO&quot;) ,</span><br><span class="line">        &quot;body&quot; ,</span><br><span class="line">        &quot;7.00 x 3.50 x 0.25 inches&quot; ,</span><br><span class="line">        &quot;weight&quot; ,</span><br><span class="line">        &quot;250 grams&quot; ,</span><br><span class="line">        &quot;sim&quot; ,</span><br><span class="line">        &quot;Micro-SIM&quot; ,</span><br><span class="line">        &quot;display&quot; ,</span><br><span class="line">        &quot;6.5 inches&quot; ,</span><br><span class="line">        &quot;resolution&quot; ,</span><br><span class="line">        &quot;1920 x 1080 pixels&quot; ,</span><br><span class="line">        &quot;os&quot; ,</span><br><span class="line">        &quot;Android Marshmallow v4.3&quot;</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/n5XZPZySJmmXjbPJjX5X_5.png" alt="The products table after adding mobilephones"></p>
<p>Notice the <code>JSON_ARRAY</code> function which returns a JSON array when passed a set of values.</p>
<p>If you specify a single key multiple times, only the first key/value pair will be retained. This is called normalizing the JSON in MySQL’s terms. Also, as part of normalization, the object keys are sorted and the extra white-space between key/value pairs is removed.</p>
<p>Another function that we can use to create JSON objects is the <code>JSON_MERGE</code> function.</p>
<p>The <code>JSON_MERGE</code> function takes multiple JSON objects and produces a single, aggregate object.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Let&#x27;s sell some cameras */</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Explorer&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    JSON_MERGE(</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;sensor_type&quot;: &quot;CMOS&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;processor&quot;: &quot;Digic DV III&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;scanning_system&quot;: &quot;progressive&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;mount_type&quot;: &quot;PL&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;monitor_type&quot;: &quot;LCD&quot;&#125;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Runner&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    JSON_MERGE(</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;sensor_type&quot; , &quot;CMOS&quot;) ,</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;processor&quot; , &quot;Digic DV II&quot;) ,</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;scanning_system&quot; , &quot;progressive&quot;) ,</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;mount_type&quot; , &quot;PL&quot;) ,</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;monitor_type&quot; , &quot;LED&quot;)</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Traveler&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    JSON_MERGE(</span><br><span class="line">        <span class="built_in">JSON_OBJECT</span>(&quot;sensor_type&quot; , &quot;CMOS&quot;) ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;processor&quot;: &quot;Digic DV II&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;scanning_system&quot;: &quot;progressive&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;mount_type&quot;: &quot;PL&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;monitor_type&quot;: &quot;LCD&quot;&#125;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Walker&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    JSON_MERGE(</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;sensor_type&quot;: &quot;CMOS&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;processor&quot;: &quot;Digic DV I&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;scanning_system&quot;: &quot;progressive&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;mount_type&quot;: &quot;PL&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;monitor_type&quot;: &quot;LED&quot;&#125;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `e_store`.`products`(</span><br><span class="line">    `name` ,</span><br><span class="line">    `brand_id` ,</span><br><span class="line">    `category_id` ,</span><br><span class="line">    `attributes`</span><br><span class="line">)</span><br><span class="line"><span class="keyword">VALUES</span>(</span><br><span class="line">    <span class="string">&#x27;Jumper&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;3&#x27;</span> ,</span><br><span class="line">    JSON_MERGE(</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;sensor_type&quot;: &quot;CMOS&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;processor&quot;: &quot;Digic DV I&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;scanning_system&quot;: &quot;progressive&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;mount_type&quot;: &quot;PL&quot;&#125;&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;&#123;&quot;monitor_type&quot;: &quot;LCD&quot;&#125;&#x27;</span></span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/jL0CBs0RRW9SbeGrreSy_6.png" alt="The products table after adding cameras"></p>
<p>There is a lot happening in these insert statements and it can get a bit confusing. However, it is pretty simple.</p>
<p>We are only passing objects to the <code>JSON_MERGE</code> function. Some of them have been constructed using the <code>JSON_OBJECT</code> function we saw previously whereas others have been passed as valid JSON strings.</p>
<p>In case of the <code>JSON_MERGE</code> function, if a key is repeated multiple times, it’s value is retained as an array in the output.</p>
<p>A proof of concept is in order I suppose.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* output: &#123;&quot;network&quot;: [&quot;GSM&quot;, &quot;CDMA&quot;, &quot;HSPA&quot;, &quot;EVDO&quot;]&#125; */</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_MERGE(</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;network&quot;: &quot;GSM&quot;&#125;&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;network&quot;: &quot;CDMA&quot;&#125;&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;network&quot;: &quot;HSPA&quot;&#125;&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;&#123;&quot;network&quot;: &quot;EVDO&quot;&#125;&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>We can confirm all our queries were run successfully using the <code>JSON_TYPE</code> function which gives us the field value type.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* output: OBJECT */</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_TYPE(attributes) <span class="keyword">FROM</span> `e_store`.`products`;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/yIlWoY0RTfOywMsT6sTy_7.png" alt="Add attributes are JSON objects"></p>
<h3 id="Read"><a href="#Read" class="headerlink" title="Read"></a>Read</h3><p>Right, we have a few products in our database to work with.</p>
<p>For typical MySQL values that are not of type JSON, a where clause is pretty straight-forward. Just specify the column, an operator, and the values you need to work with.</p>
<p>Heuristically, when working with JSON columns, this does not work.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* It&#x27;s not that simple */</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    `e_store`.`products`</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    attributes <span class="operator">=</span> <span class="string">&#x27;&#123;&quot;ports&quot;: &#123;&quot;usb&quot;: 3, &quot;hdmi&quot;: 1&#125;, &quot;screen&quot;: &quot;50 inch&quot;, &quot;speakers&quot;: &#123;&quot;left&quot;: &quot;10 watt&quot;, &quot;right&quot;: &quot;10 watt&quot;&#125;, &quot;resolution&quot;: &quot;2048 x 1152 pixels&quot;&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>When you wish to narrow down rows using a JSON field, you should be familiar with the concept of a path expression.</p>
<p>The most simplest definition of a path expression(think JQuery selectors) is it’s used to specify which parts of the JSON document to work with.</p>
<p>The second piece of the puzzle is the <code>JSON_EXTRACT</code> function which accepts a path expression to navigate through JSON.</p>
<p>Let us say we are interested in the range of televisions that have atleast a single USB and HDMI port.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    `e_store`.`products`</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">AND</span> JSON_EXTRACT(`attributes` , <span class="string">&#x27;$.ports.usb&#x27;</span>) <span class="operator">&gt;</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">AND</span> JSON_EXTRACT(`attributes` , <span class="string">&#x27;$.ports.hdmi&#x27;</span>) <span class="operator">&gt;</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/53SG0bOMQCK0v8xcXdPw_8.png" alt="Selecting records by JSON attributes"></p>
<p>The first argument to the <code>JSON_EXTRACT</code> function is the JSON to apply the path expression to which is the <code>attributes</code> column. The <code>$</code> symbol tokenizes the object to work with. The <code>$.ports.usb</code> and <code>$.ports.hdmi</code> path expressions translate to “take the usb key under ports” and “take the hdmi key under ports” respectively.</p>
<p>Once we have extracted the keys we are interested in, it is pretty simple to use the MySQL operators such as <code>&gt;</code> on them.</p>
<p>Also, the <code>JSON_EXTRACT</code> function has the alias <code>-&gt;</code> that you can use to make your queries more readable.</p>
<p>Revising our previous query.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    `e_store`.`products`</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">AND</span> `attributes` <span class="operator">-</span><span class="operator">&gt;</span> <span class="string">&#x27;$.ports.usb&#x27;</span> <span class="operator">&gt;</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">AND</span> `attributes` <span class="operator">-</span><span class="operator">&gt;</span> <span class="string">&#x27;$.ports.hdmi&#x27;</span> <span class="operator">&gt;</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>In order to update JSON values, we are going to use the <code>JSON_INSERT</code>, <code>JSON_REPLACE</code>, and <code>JSON_SET</code> functions. These functions also require a path expression to specify which parts of the JSON object to modify.</p>
<p>The output of these functions is a valid JSON object with the changes applied.</p>
<p>Let us modify all mobilephones to have a chipset property as well.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `e_store`.`products`</span><br><span class="line"><span class="keyword">SET</span> `attributes` <span class="operator">=</span> JSON_INSERT(</span><br><span class="line">    `attributes` ,</span><br><span class="line">    <span class="string">&#x27;$.chipset&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;Qualcomm&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/udLoFDtdTXiqegwblu1H_9.png" alt="Updated mobilephones"></p>
<p>The <code>$.chipset</code> path expression identifies the position of the <code>chipset</code> property to be at the root of the object.</p>
<p>Let us update the <code>chipset</code> property to be more descriptive using the <code>JSON_REPLACE</code> function.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `e_store`.`products`</span><br><span class="line"><span class="keyword">SET</span> `attributes` <span class="operator">=</span> JSON_REPLACE(</span><br><span class="line">    `attributes` ,</span><br><span class="line">    <span class="string">&#x27;$.chipset&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;Qualcomm Snapdragon&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/g8NePfG3SIqfnZrFVxzZ_10.png" alt="Updated mobilephones"></p>
<p>Easy peasy!</p>
<p>Lastly, we have the <code>JSON_SET</code> function which we will use to specify our televisions are pretty colorful.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `e_store`.`products`</span><br><span class="line"><span class="keyword">SET</span> `attributes` <span class="operator">=</span> JSON_SET(</span><br><span class="line">    `attributes` ,</span><br><span class="line">    <span class="string">&#x27;$.body_color&#x27;</span> ,</span><br><span class="line">    <span class="string">&#x27;red&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/8JdjWDSS3GmGadfmGUZQ_11.png" alt="Updated televisions"></p>
<p>All of these functions seem identical but there is a difference in the way they behave.</p>
<p>The <code>JSON_INSERT</code> function will only add the property to the object if it does not exists already.</p>
<p>The <code>JSON_REPLACE</code> function substitutes the property only if it is found.</p>
<p>The <code>JSON_SET</code> function will add the property if it is not found else replace it.</p>
<h3 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h3><p>There are two parts to deleting that we will look at.</p>
<p>The first is to delete a certain key/value from your JSON columns whereas the second is to delete rows using a JSON column.</p>
<p>Let us say we are no longer providing the <code>mount_type</code> information for cameras and wish to remove it for all cameras.</p>
<p>We will do it using the <code>JSON_REMOVE</code> function which returns the updated JSON after removing the specified key based on the path expression.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UPDATE `e_store`.`products`</span><br><span class="line"><span class="keyword">SET</span> `attributes` <span class="operator">=</span> JSON_REMOVE(`attributes` , <span class="string">&#x27;$.mount_type&#x27;</span>)</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    `category_id` <span class="operator">=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/b55yf1CuRVq8iU96aK75_12.png" alt="Cameras after removing mount_type property"></p>
<p>For the second case, we also do not provide mobilephones anymore that have the Jellybean version of the Android OS.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `e_store`.`products`</span><br><span class="line"><span class="keyword">WHERE</span> `category_id` <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">AND</span> JSON_EXTRACT(`attributes` , <span class="string">&#x27;$.os&#x27;</span>) <span class="keyword">LIKE</span> <span class="string">&#x27;%Jellybean%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://scotch-res.cloudinary.com/image/upload/dpr_1,w_800,q_auto:good,f_auto/media/228/RJvQcJMCT273y3oF2lBg_13.png" alt="We do not sell Jellybeans anymore!"></p>
<p>As stated previously, working with a specific attribute requires the use of the <code>JSON_EXTRACT</code> function so in order to apply the <code>LIKE</code> operator, we have first extracted the <code>os</code> property of mobilephones(with the help of <code>category_id</code>) and deleted all records that contain the string <code>Jellybean</code>.</p>
<h2 id="A-Primer-for-Web-Applications"><a href="#A-Primer-for-Web-Applications" class="headerlink" title="A Primer for Web Applications"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-a-primer-for-web-applications">A Primer for Web Applications</a></h2><p>The old days of directly working with a database are way behind us.</p>
<p>These days, frameworks insulate developers from lower-level operations and it almost feels alien for a framework fanatic not to be able to translate his/her database knowledge into an object relational mapper.</p>
<p>For the purpose of not leaving such developers heartbroken and wondering about their existence and purpose in the universe, we are going to look at how to go about the business of JSON columns in the Laravel framework.</p>
<blockquote>
<p>We will only be focusing on the parts that overlap with our subject matter which deals with JSON columns. An in-depth tutorial on the Laravel framework is beyond the scope of this piece.</p>
</blockquote>
<h2 id="Creating-the-Migrations"><a href="#Creating-the-Migrations" class="headerlink" title="Creating the Migrations"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-creating-the-migrations">Creating the Migrations</a></h2><p>Make sure to configure your Laravel application to use a MySQL database.</p>
<p>We are going to create three migrations for <code>brands</code>, <code>categories</code>, and <code>products</code> respectively.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan make:migration create_brands</span><br><span class="line">$ php artisan make:migration create_categories</span><br><span class="line">$ php artisan make:migration create_products</span><br></pre></td></tr></table></figure>

<p>The <code>create_brands</code> and <code>create_categories</code> migrations are pretty similar and and a regulation for Laravel developers.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* database/migrations/create_brands.php */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateBrands</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">&#x27;brands&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">Blueprint <span class="variable">$table</span></span>)</span>&#123;</span><br><span class="line">            <span class="variable">$table</span>-&gt;engine = <span class="string">&#x27;InnoDB&#x27;</span>;</span><br><span class="line">            <span class="variable">$table</span>-&gt;increments(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;string(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;timestamps();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::drop(<span class="string">&#x27;brands&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* database/migrations/create_categories.php */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateCategories</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">&#x27;categories&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">Blueprint <span class="variable">$table</span></span>)</span>&#123;</span><br><span class="line">            <span class="variable">$table</span>-&gt;engine = <span class="string">&#x27;InnoDB&#x27;</span>;</span><br><span class="line">            <span class="variable">$table</span>-&gt;increments(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;string(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;timestamps();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::drop(<span class="string">&#x27;categories&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>create_products</code> migration will also have the directives for indexes and foreign keys.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* database/migrations/create_products */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateProducts</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">&#x27;products&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">Blueprint <span class="variable">$table</span></span>)</span>&#123;</span><br><span class="line">            <span class="variable">$table</span>-&gt;engine = <span class="string">&#x27;InnoDB&#x27;</span>;</span><br><span class="line">            <span class="variable">$table</span>-&gt;increments(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;string(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;unsignedInteger(<span class="string">&#x27;brand_id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;unsignedInteger(<span class="string">&#x27;category_id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;json(<span class="string">&#x27;attributes&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;timestamps();</span><br><span class="line">            <span class="comment">// foreign key constraints</span></span><br><span class="line">            <span class="variable">$table</span>-&gt;foreign(<span class="string">&#x27;brand_id&#x27;</span>)-&gt;references(<span class="string">&#x27;id&#x27;</span>)-&gt;on(<span class="string">&#x27;brands&#x27;</span>)-&gt;onDelete(<span class="string">&#x27;restrict&#x27;</span>)-&gt;onUpdate(<span class="string">&#x27;cascade&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;foreign(<span class="string">&#x27;category_id&#x27;</span>)-&gt;references(<span class="string">&#x27;id&#x27;</span>)-&gt;on(<span class="string">&#x27;categories&#x27;</span>)-&gt;onDelete(<span class="string">&#x27;restrict&#x27;</span>)-&gt;onUpdate(<span class="string">&#x27;cascade&#x27;</span>);</span><br><span class="line">            <span class="comment">// indexes</span></span><br><span class="line">            <span class="variable">$table</span>-&gt;index(<span class="string">&#x27;brand_id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;index(<span class="string">&#x27;category_id&#x27;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::drop(<span class="string">&#x27;products&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Pay attention to the <code>$table-&gt;json(&#39;attributes&#39;);</code> statement in the migration.</p>
<p>Just like creating any other table field using the appropriate data type named method, we have created a JSON column using the <code>json</code> method with the name <code>attributes</code>.</p>
<p>Also, this only works for database engines that support the JSON data type.</p>
<p>Engines, such as older versions of MySQL will not be able to carry out these migrations.</p>
<h2 id="Creating-the-Models"><a href="#Creating-the-Models" class="headerlink" title="Creating the Models"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-creating-the-models">Creating the Models</a></h2><p>Other than associations, there is not much needed to set up our models so let’s run through them quickly.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* app/Brand.php */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Brand</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// A brand has many products</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">products</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(<span class="string">&#x27;Product&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* app/Category.php */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Category</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// A category has many products</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">products</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(<span class="string">&#x27;Product&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* app/Product.php */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// Cast attributes JSON to array</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$casts</span> = [</span><br><span class="line">        <span class="string">&#x27;attributes&#x27;</span> =&gt; <span class="string">&#x27;array&#x27;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Each product has a brand</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">brand</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;belongsTo(<span class="string">&#x27;Brand&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Each product has a category</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">category</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;belongsTo(<span class="string">&#x27;Category&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Again, our <code>Product</code> model needs a special mention.</p>
<p>The <code>$casts</code> array which has the key <code>attributes</code> set to <code>array</code> makes sure whenever a product is fetched from the database, it’s <code>attributes</code> JSON is converted to an associated array.</p>
<p>We will see later in the tutorial how this facilitates us to update records from our controller actions.</p>
<h2 id="Resource-Operations"><a href="#Resource-Operations" class="headerlink" title="Resource Operations"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-resource-operations">Resource Operations</a></h2><h3 id="Creating-a-Product"><a href="#Creating-a-Product" class="headerlink" title="Creating a Product"></a>Creating a Product</h3><p>Speaking of the admin panel, the parameters to create a product maybe coming in through different routes since we have a number of product categories. You may also have different views to create, edit, show, and delete a product.</p>
<p>For example, a form to add a camera requires different input fields than a form to add a mobilephone so they warrant separate views.</p>
<p>Moreover, once you have the user input data, you will most probabaly run it through a request validator, separate for the camera, and the mobilephone each.</p>
<p>The final step would be to create the product through Eloquent.</p>
<p>We will be focusing on the camera resource for the rest of this tutorial. Other products can be addressed using the code produced in a similar manner.</p>
<p>Assuming we are saving a camera and the form fields are named as the respective camera attributes, here is the controller action.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// creates product in database</span></span><br><span class="line"><span class="comment">// using form fields</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params">Request <span class="variable">$request</span></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// create object and set properties</span></span><br><span class="line">    <span class="variable">$camera</span> = <span class="keyword">new</span> \App\Product();</span><br><span class="line">    <span class="variable">$camera</span>-&gt;name = <span class="variable">$request</span>-&gt;name;</span><br><span class="line">    <span class="variable">$camera</span>-&gt;brand_id = <span class="variable">$request</span>-&gt;brand_id;</span><br><span class="line">    <span class="variable">$camera</span>-&gt;category_id = <span class="variable">$request</span>-&gt;category_id;</span><br><span class="line">    <span class="variable">$camera</span>-&gt;attributes = json_encode([</span><br><span class="line">        <span class="string">&#x27;processor&#x27;</span> =&gt; <span class="variable">$request</span>-&gt;processor,</span><br><span class="line">        <span class="string">&#x27;sensor_type&#x27;</span> =&gt; <span class="variable">$request</span>-&gt;sensor_type,</span><br><span class="line">        <span class="string">&#x27;monitor_type&#x27;</span> =&gt; <span class="variable">$request</span>-&gt;monitor_type,</span><br><span class="line">        <span class="string">&#x27;scanning_system&#x27;</span> =&gt; <span class="variable">$request</span>-&gt;scanning_system,</span><br><span class="line">    ]);</span><br><span class="line">    <span class="comment">// save to database</span></span><br><span class="line">    <span class="variable">$camera</span>-&gt;save();</span><br><span class="line">    <span class="comment">// show the created camera</span></span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">&#x27;product.camera.show&#x27;</span>, [<span class="string">&#x27;camera&#x27;</span> =&gt; <span class="variable">$camera</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Fetching-Products"><a href="#Fetching-Products" class="headerlink" title="Fetching Products"></a>Fetching Products</h3><p>Recall the <code>$casts</code> array we declared earlier in the <code>Product</code> model. It will help us read and edit a product by treating attributes as an associative array.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fetches a single product</span></span><br><span class="line"><span class="comment">// from database</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"><span class="variable">$id</span></span>)</span>&#123;</span><br><span class="line">    <span class="variable">$camera</span> = \App\Product::find(<span class="variable">$id</span>);</span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">&#x27;product.camera.show&#x27;</span>, [<span class="string">&#x27;camera&#x27;</span> =&gt; <span class="variable">$camera</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Your view would use the <code>$camera</code> variable in the following manner.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Brand ID<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;brand_id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Category ID<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;category_id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Processor<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;attributes[&#x27;processor&#x27;] &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sensor Type<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;attributes[&#x27;sensor_type&#x27;] &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Monitor Type<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;attributes[&#x27;monitor_type&#x27;] &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Scanning System<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $camera-&gt;attributes[&#x27;scanning_system&#x27;] &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Editing-a-Product"><a href="#Editing-a-Product" class="headerlink" title="Editing a Product"></a>Editing a Product</h3><p>As shown in the previous section, you can easily fetch a product and pass it to the view, which in this case would be the edit view.</p>
<p>You can use the product variable to pre-populate form fields on the edit page.</p>
<p>Updating the product based on the user input will be pretty similar to the <code>store</code> action we saw earlier, only that instead of creating a new product, you will fetch it first from the database before updating it.</p>
<h3 id="Searching-Based-on-JSON-Attributes"><a href="#Searching-Based-on-JSON-Attributes" class="headerlink" title="Searching Based on JSON Attributes"></a>Searching Based on JSON Attributes</h3><p>The last piece of the puzzle that remains to discuss is querying JSON columns using the Eloquent ORM.</p>
<p>If you have a search page that allows cameras to be searched based on their specifications provided by the user, you can do so with the following code.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// searches cameras by user provided specifications</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params">Request <span class="variable">$request</span></span>)</span>&#123;</span><br><span class="line">    <span class="variable">$cameras</span> = \App\Product::where([</span><br><span class="line">        [<span class="string">&#x27;attributes-&gt;processor&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="variable">$request</span>-&gt;processor],</span><br><span class="line">        [<span class="string">&#x27;attributes-&gt;sensor_type&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="variable">$request</span>-&gt;sensor_type],</span><br><span class="line">        [<span class="string">&#x27;attributes-&gt;monitor_type&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="variable">$request</span>-&gt;monitor_type],</span><br><span class="line">        [<span class="string">&#x27;attributes-&gt;scanning_system&#x27;</span>, <span class="string">&#x27;like&#x27;</span>, <span class="variable">$request</span>-&gt;scanning_system]</span><br><span class="line">    ])-&gt;get();</span><br><span class="line">    <span class="keyword">return</span> view(<span class="string">&#x27;product.camera.search&#x27;</span>, [<span class="string">&#x27;cameras&#x27;</span> =&gt; <span class="variable">$cameras</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The retrived records will now be available to the <code>product.camera.search</code> view as a <code>$cameras</code> collection.</p>
<h3 id="Deleting-a-Product"><a href="#Deleting-a-Product" class="headerlink" title="Deleting a Product"></a>Deleting a Product</h3><p>Using a non-JSON column attribute, you can delete products by specifying a where clause and then calling the <code>delete</code> method.</p>
<p>For example, in case of an ID.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\App\Product::where(<span class="string">&#x27;id&#x27;</span>, <span class="variable">$id</span>)-&gt;delete();</span><br></pre></td></tr></table></figure>

<p>For JSON columns, specify a where clause using a single or multiple attributes and then call the <code>delete</code> method.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// deletes all cameras with the sensor_type attribute as CMOS</span></span><br><span class="line">\App\Product::where(<span class="string">&#x27;attributes-&gt;sensor_type&#x27;</span>, <span class="string">&#x27;CMOS&#x27;</span>)-&gt;delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Curtains"><a href="#Curtains" class="headerlink" title="Curtains"></a><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql#toc-curtains">Curtains</a></h2><p>We have barely scratched the surface when it comes to using JSON columns in MySQL.</p>
<p>Whenever you need to save data as key/value pairs in a separate table or work with flexible attributes for an entity, you should consider using a JSON data type field instead as it can heavily contribute to compressing your database design.</p>
<p>If you are interested in diving deeper, the <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/json.html">MySQL documentation</a> is a great resource to explore JSON concepts futher.</p>
<p>来源：</p>
<p><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/working-with-json-in-mysql">https://scotch.io/tutorials/working-with-json-in-mysql</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://hefengbao.github.io/helloworld/working-with-json-in-mysql.html" data-id="ckweu3ez700dya1vhevev7j9j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/json/" rel="tag">json</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/helloworld/tags/mysql/" rel="tag">mysql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/helloworld/laravel-rate-limiting-in-production-926c4d581886.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Laravel Rate Limiting in Production
        
      </div>
    </a>
  
  
    <a href="/helloworld/laravel-seeder.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Laravel 数据填充</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/AI/">AI</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/API/">API</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Auth/">Auth</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/">Database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Database/Oracle/">Oracle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/">DevOps</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/MinIO/">MinIO</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/Supervisor/">Supervisor</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/DevOps/WAMP/">WAMP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Github/">Github</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Go/">Go</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Gradle/">Gradle</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Javascript/">Javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Kotlin/">Kotlin</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Linux/Ubuntu/">Ubuntu</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/">PHP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/PHP/Laravel/">Laravel</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/">Web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Web/HTML/">HTML</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/Composer/">Composer</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/PhpStorm/">PhpStorm</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E5%B7%A5%E5%85%B7/%E8%B5%84%E6%96%99/">资料</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%88%AC%E8%99%AB/">爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/">版本控制</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/Gitlab/">Gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/VisualSVN/">VisualSVN</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></li><li class="category-list-item"><a class="category-list-link" href="/helloworld/categories/%E8%B5%84%E6%96%99/">资料</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Axios/" rel="tag">Axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Composer/" rel="tag">Composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Date/" rel="tag">Date</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/DevOps/" rel="tag">DevOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Go/" rel="tag">Go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Laravel/" rel="tag">Laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/MinIO/" rel="tag">MinIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/OAuth-2-0/" rel="tag">OAuth 2.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Time/" rel="tag">Time</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/TimeZone/" rel="tag">TimeZone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/VisualSVN/" rel="tag">VisualSVN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/WAMP/" rel="tag">WAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/android-studio/" rel="tag">android-studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/api/" rel="tag">api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/chrome/" rel="tag">chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/color/" rel="tag">color</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/composer/" rel="tag">composer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/computer/" rel="tag">computer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/crontab/" rel="tag">crontab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/cros/" rel="tag">cros</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/database/" rel="tag">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/echarts/" rel="tag">echarts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/emoji/" rel="tag">emoji</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/face-recognition/" rel="tag">face_recognition</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/gradle/" rel="tag">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/homestead/" rel="tag">homestead</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/https/" rel="tag">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/icon/" rel="tag">icon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/josn-ld/" rel="tag">josn-ld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/json/" rel="tag">json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/jwt/" rel="tag">jwt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/keyboard/" rel="tag">keyboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/kotlin/" rel="tag">kotlin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/laravel/" rel="tag">laravel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/lemp/" rel="tag">lemp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/okhttp/" rel="tag">okhttp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/opcache/" rel="tag">opcache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/oracle/" rel="tag">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/pdf/" rel="tag">pdf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/pdo-oci/" rel="tag">pdo_oci</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpmyadmin/" rel="tag">phpmyadmin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/phpstorm/" rel="tag">phpstorm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/player/" rel="tag">player</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/proguard/" rel="tag">proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/regex/" rel="tag">regex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/room/" rel="tag">room</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/snowflake/" rel="tag">snowflake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/startup/" rel="tag">startup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/supervisor/" rel="tag">supervisor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/vue-router/" rel="tag">vue-router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/wsl/" rel="tag">wsl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/zmq/" rel="tag">zmq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" rel="tag">二维码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" rel="tag">大学课程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%89%93%E5%8D%B0/" rel="tag">打印</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">数据可视化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" rel="tag">数据集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E6%B0%B4%E5%8D%B0/" rel="tag">水印</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" rel="tag">科学上网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E7%BD%91%E5%AE%89/" rel="tag">网安</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E8%B5%84%E6%96%99/" rel="tag">资料</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" rel="tag">项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" rel="tag">项目部署</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/helloworld/tags/AI/" style="font-size: 10px;">AI</a> <a href="/helloworld/tags/Axios/" style="font-size: 10px;">Axios</a> <a href="/helloworld/tags/Composer/" style="font-size: 10px;">Composer</a> <a href="/helloworld/tags/Date/" style="font-size: 10px;">Date</a> <a href="/helloworld/tags/DevOps/" style="font-size: 10px;">DevOps</a> <a href="/helloworld/tags/Go/" style="font-size: 10px;">Go</a> <a href="/helloworld/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/helloworld/tags/Laravel/" style="font-size: 10px;">Laravel</a> <a href="/helloworld/tags/MinIO/" style="font-size: 10px;">MinIO</a> <a href="/helloworld/tags/OAuth-2-0/" style="font-size: 10px;">OAuth 2.0</a> <a href="/helloworld/tags/Time/" style="font-size: 10px;">Time</a> <a href="/helloworld/tags/TimeZone/" style="font-size: 10px;">TimeZone</a> <a href="/helloworld/tags/VisualSVN/" style="font-size: 10px;">VisualSVN</a> <a href="/helloworld/tags/WAMP/" style="font-size: 12.5px;">WAMP</a> <a href="/helloworld/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/helloworld/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/helloworld/tags/android/" style="font-size: 18.75px;">android</a> <a href="/helloworld/tags/android-studio/" style="font-size: 10px;">android-studio</a> <a href="/helloworld/tags/api/" style="font-size: 10px;">api</a> <a href="/helloworld/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/helloworld/tags/color/" style="font-size: 10px;">color</a> <a href="/helloworld/tags/composer/" style="font-size: 12.5px;">composer</a> <a href="/helloworld/tags/computer/" style="font-size: 10px;">computer</a> <a href="/helloworld/tags/crontab/" style="font-size: 10px;">crontab</a> <a href="/helloworld/tags/cros/" style="font-size: 10px;">cros</a> <a href="/helloworld/tags/css/" style="font-size: 10px;">css</a> <a href="/helloworld/tags/database/" style="font-size: 10px;">database</a> <a href="/helloworld/tags/echarts/" style="font-size: 10px;">echarts</a> <a href="/helloworld/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/helloworld/tags/emoji/" style="font-size: 10px;">emoji</a> <a href="/helloworld/tags/face-recognition/" style="font-size: 10px;">face_recognition</a> <a href="/helloworld/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/helloworld/tags/git/" style="font-size: 12.5px;">git</a> <a href="/helloworld/tags/github/" style="font-size: 11.25px;">github</a> <a href="/helloworld/tags/gitlab/" style="font-size: 11.25px;">gitlab</a> <a href="/helloworld/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/helloworld/tags/hexo/" style="font-size: 11.25px;">hexo</a> <a href="/helloworld/tags/homestead/" style="font-size: 12.5px;">homestead</a> <a href="/helloworld/tags/html/" style="font-size: 10px;">html</a> <a href="/helloworld/tags/http/" style="font-size: 11.25px;">http</a> <a href="/helloworld/tags/https/" style="font-size: 10px;">https</a> <a href="/helloworld/tags/icon/" style="font-size: 10px;">icon</a> <a href="/helloworld/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/helloworld/tags/java/" style="font-size: 11.25px;">java</a> <a href="/helloworld/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/helloworld/tags/josn-ld/" style="font-size: 10px;">josn-ld</a> <a href="/helloworld/tags/json/" style="font-size: 11.25px;">json</a> <a href="/helloworld/tags/jwt/" style="font-size: 10px;">jwt</a> <a href="/helloworld/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/helloworld/tags/kotlin/" style="font-size: 20px;">kotlin</a> <a href="/helloworld/tags/laravel/" style="font-size: 17.5px;">laravel</a> <a href="/helloworld/tags/lemp/" style="font-size: 10px;">lemp</a> <a href="/helloworld/tags/linux/" style="font-size: 16.25px;">linux</a> <a href="/helloworld/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/helloworld/tags/math/" style="font-size: 10px;">math</a> <a href="/helloworld/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/helloworld/tags/nginx/" style="font-size: 12.5px;">nginx</a> <a href="/helloworld/tags/okhttp/" style="font-size: 11.25px;">okhttp</a> <a href="/helloworld/tags/opcache/" style="font-size: 10px;">opcache</a> <a href="/helloworld/tags/oracle/" style="font-size: 12.5px;">oracle</a> <a href="/helloworld/tags/pdf/" style="font-size: 10px;">pdf</a> <a href="/helloworld/tags/pdo-oci/" style="font-size: 10px;">pdo_oci</a> <a href="/helloworld/tags/php/" style="font-size: 15px;">php</a> <a href="/helloworld/tags/phpmyadmin/" style="font-size: 10px;">phpmyadmin</a> <a href="/helloworld/tags/phpstorm/" style="font-size: 10px;">phpstorm</a> <a href="/helloworld/tags/player/" style="font-size: 10px;">player</a> <a href="/helloworld/tags/proguard/" style="font-size: 10px;">proguard</a> <a href="/helloworld/tags/redis/" style="font-size: 11.25px;">redis</a> <a href="/helloworld/tags/regex/" style="font-size: 10px;">regex</a> <a href="/helloworld/tags/room/" style="font-size: 10px;">room</a> <a href="/helloworld/tags/snowflake/" style="font-size: 10px;">snowflake</a> <a href="/helloworld/tags/startup/" style="font-size: 10px;">startup</a> <a href="/helloworld/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/helloworld/tags/ubuntu/" style="font-size: 12.5px;">ubuntu</a> <a href="/helloworld/tags/vscode/" style="font-size: 11.25px;">vscode</a> <a href="/helloworld/tags/vue/" style="font-size: 11.25px;">vue</a> <a href="/helloworld/tags/vue-router/" style="font-size: 10px;">vue-router</a> <a href="/helloworld/tags/web/" style="font-size: 10px;">web</a> <a href="/helloworld/tags/wsl/" style="font-size: 12.5px;">wsl</a> <a href="/helloworld/tags/zmq/" style="font-size: 10px;">zmq</a> <a href="/helloworld/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81/" style="font-size: 10px;">二维码</a> <a href="/helloworld/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/helloworld/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 10px;">大学课程</a> <a href="/helloworld/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 10px;">大数据</a> <a href="/helloworld/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 10px;">微服务</a> <a href="/helloworld/tags/%E6%89%93%E5%8D%B0/" style="font-size: 10px;">打印</a> <a href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 11.25px;">数据可视化</a> <a href="/helloworld/tags/%E6%95%B0%E6%8D%AE%E9%9B%86/" style="font-size: 10px;">数据集</a> <a href="/helloworld/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/helloworld/tags/%E6%B0%B4%E5%8D%B0/" style="font-size: 10px;">水印</a> <a href="/helloworld/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/helloworld/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/" style="font-size: 10px;">科学上网</a> <a href="/helloworld/tags/%E7%BD%91%E5%AE%89/" style="font-size: 10px;">网安</a> <a href="/helloworld/tags/%E8%B5%84%E6%96%99/" style="font-size: 13.75px;">资料</a> <a href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" style="font-size: 10px;">项目管理</a> <a href="/helloworld/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">项目部署</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/helloworld/archives/2017/04/">四月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/helloworld/php-opcache-20211013.html">PHP Opcache</a>
          </li>
        
          <li>
            <a href="/helloworld/homestead-wsl2-20210901.html">Homestead &amp; WSL 2 - Windows 10</a>
          </li>
        
          <li>
            <a href="/helloworld/devops-resource-20210812.html">服务器管理学习资料</a>
          </li>
        
          <li>
            <a href="/helloworld/some-resource-20210810.html">程序员要了解的一些知识</a>
          </li>
        
          <li>
            <a href="/helloworld/bigdata-resource-20210809.html">大数据学习资料</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 He Fengbao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/helloworld/" class="mobile-nav-link">Home</a>
  
    <a href="/helloworld/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/helloworld/fancybox/jquery.fancybox.css">

  
<script src="/helloworld/fancybox/jquery.fancybox.pack.js"></script>




<script src="/helloworld/js/script.js"></script>




  </div>
</body>
</html>